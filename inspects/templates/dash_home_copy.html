{% extends 'base.html' %}
{% block content %}

{% load static %}


<link rel="stylesheet" type="text/css" media="screen" href="{% static '/css/bootstrap.min.css' %}">

<script src="{%static '/js/jquery-3.6.0.min.js'%}"></script>
<script type="text/javascript" src="{% static '/js/chart.min2.js'%}"></script>
<script type="text/javascript" src="{% static '/js/chartjs-plugin-datalabels.min.js'%}"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
<script type="text/javascript" src="{% static '/daterangepicker-master/moment.min.js'%}"></script>
<script type="text/javascript" src="{% static '/daterangepicker-master/daterangepicker.js'%}"></script>
<script type="text/javascript" src="{% static '/DataTables/datatables.min.js'%}"></script>
<script type="text/javascript" src="{% static '/bootstrap-4.0.0/dist/js/bootstrap.min.js'%}"></script>
<script type="text/javascript" src="{% static '/bootstrap-4.0.0/dist/js/bootstrap.bundle.min.js'%}"></script>
<script type="text/javascript" src="{% static '/Highcharts-10.1.0/code/highcharts.js'%}"></script>
<script type="text/javascript" src="{% static '/Highcharts-10.1.0/code/highcharts-3d.js'%}"></script>
<script type="text/javascript" src="{% static '/Highcharts-10.1.0/code/modules/exporting.js'%}"></script>
<script type="text/javascript" src="{% static '/Highcharts-10.1.0/code/modules/export-data.js'%}"></script>
<script type="text/javascript" src="{% static '/Highcharts-10.1.0/code/modules/accessibility.js'%}"></script>
<link rel="stylesheet" type="text/css" href="{%static '/bootstrap-4.0.0/dist/css/bootstrap.min.css'%}" />
<link rel="stylesheet" type="text/css" href="{%static '/daterangepicker-master/daterangepicker.css'%}" />
<link rel="stylesheet" type="text/css" href="{%static '/DataTables/datatables.min.css'%}" />
<link rel="stylesheet" type="text/css" href="{% static '/css/quicksand.css' %} ">
<link rel="stylesheet" type="text/css" hef="{% static '/css/lato.css' %}">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<!-- Apeksha scripts, etc -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery.min.js"></script>

<!-- <link rel="stylesheet" href="jquery.dropdown.css"> -->
<script src="jquery.dropdown.js"></script>
<!-- Include the plugin's CSS and JS: -->

<script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
<link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css" />
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->

<link rel="stylesheet" type="text" href="{% static '/bootstrap-5.1.3-dist/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" media="screen" href="{% static '/css/bootstrap.min.css' %}">

<link href="{% static '/css/bootstrap-toggle.min.css' %}" rel="stylesheet">
<script src="{% static '/js/bootstrap-toggle.min.js' %}"></script>

<link rel="stylesheet" type="text/css" href="{% static '/css/select2.min.css' %}" />
<link rel="stylesheet" type="text/css" media="screen" href="{% static '/css/select2.min.css' %}">
<link rel="stylesheet" href="{% static '/css/jquery-ui.css' %}">


<link rel="stylesheet" href="{% static '/css/font-awesome.min.css' %}">

<script src="{% static 'js/timepicker.js' %}"></script>
<!-- <link rel="stylesheet" type="text/css" href="{% static '/css/select2.min.css' %}" /> -->

<script src="{% static '/js/jquery.min.js' %}"></script>
<!-- Select2 CSS -->

<!-- jQuery -->
<script src="{% static '/js/jquery.min4.js' %}"></script>

<!-- Select2 JS -->
<script src="{% static '/js/select2.min.js' %}"></script>
<!-- Load icon library -->
<link rel="stylesheet" href="{% static '/css/font-awesome.min.css' %}">
<!-- multiple selesct marked officer -->

<link href="css/jquery.multiselect.css" rel="stylesheet" type="text/css">
<script src="{% static '/js/jquery.dataTables.min.js' %}"></script>
<link href="{% static '/css/jquery.dataTables.min.css' %}" rel="stylesheet" />
<!-- Sheets for datepicker for target date -->

<link rel="stylesheet" href="{% static '/css/jquery-ui.css' %}">
<link rel="stylesheet" href="/resources/demos/style.css">
<script src="{% static '/js/jquery-ui.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static '/css/quicksand.css' %} ">
<link rel="stylesheet" type="text/css" href="{% static '/css/lato.css' %} ">
<link href="{% static 'css/roboto.css' %}" rel="stylesheet"><br>


<script type="text/javascript" src="{% static '/daterangepicker-master/moment.min.js'%}"></script>
<script type="text/javascript" src="{% static '/daterangepicker-master/daterangepicker.js'%}"></script>
<link rel="stylesheet" type="text/css" href="{%static '/daterangepicker-master/daterangepicker.css'%}" />

<!-- Apeksha end -->

<!-- <style>

.modal-content{
  border: solid !important;
  border-width: 1px !important;
}
.modal-header{
  background-color: #343A40 !important;
  color: #fff;
  border-radius: inherit;
}
.close span{
  color: #fff !important;
}
.close span:hover{
  color: #fff !important;
}
  .modal.left .modal-dialog,
    .modal.right .modal-dialog {
      position: fixed;
      margin: auto;
      width: 1200px;
      height: 100%;
      -webkit-transform: translate3d(0%, 0, 0);
      -ms-transform: translate3d(0%, 0, 0);
      -o-transform: translate3d(0%, 0, 0);
      transform: translate3d(0%, 0, 0);
    }

    .modal.left .modal-content,
    .modal.right .modal-content {
      height: 100%;
      overflow-y: auto;
    }

    .modal.left .modal-body,
    .modal.right .modal-body {
      padding: 15px 15px 80px;
    }

    /*Left*/
    .modal.left.fade .modal-dialog {
      left: -320px;
      -webkit-transition: opacity 0.3s linear, left 0.3s ease-out;
      -moz-transition: opacity 0.3s linear, left 0.3s ease-out;
      -o-transition: opacity 0.3s linear, left 0.3s ease-out;
      transition: opacity 0.3s linear, left 0.3s ease-out;
    }

    .modal.left.fade.show .modal-dialog {
      left: 0;
    }

    /*Right*/
    .modal.right.fade .modal-dialog {
      right: -320px;
      -webkit-transition: opacity 0.3s linear, right 0.3s ease-out;
      -moz-transition: opacity 0.3s linear, right 0.3s ease-out;
      -o-transition: opacity 0.3s linear, right 0.3s ease-out;
      transition: opacity 0.3s linear, right 0.3s ease-out;
    }

    .modal.right.fade.show .modal-dialog {
      right: 0;
    }

    /* ----- MODAL STYLE ----- */
    .modal-content {
      border-radius: 0;
      border: none;
    }

    .modal-header {
      border-bottom-color: #EEEEEE;
      background-color: #FAFAFA;
    }

    .modal-lg {
      max-width: 70% !important;
    }

    .modal {
      pointer-events: none;
    }

    .modal-backdrop {
      display: none;
    }

   
  .table-bordered th {
    background: rgb(243, 205, 205);

  }

  th {
    border: 1px;
    padding: 5px;
    width: 80px;
    min-width: 80px;
  }

  td {
    border: 1px;
    padding: 5px;
    width: 80px;
    min-width: 80px;
  }


  .headcol {
    position: sticky;

  }



  #sidebar-container .list-group button {
    padding: 50%;
    margin: 0%;
    height: 312.5%;
    color: white;
  }

  #sidebar-container2 .list-group button {
    padding: 12.5%;
    margin: 12.5%;
    height: 312.5%;
    color: white;
  }


  /* .btn {
    background-color: rgb(178, 229, 245);
    color: black;

  } */

  /* .btn:hover {
    background-color: #90c0f7;
    color: black
  } */

  .readmore {
    margin-top: -11px;

  }

  #more {
    display: none;
  }

  #myBtn {
    border: none;
    background-color: white;
  }

  .button1{
    float: right;
    margin-right: 2%;
    border: none;
    background-color: #89CFF0;
    font-weight: 500;
    color: black;
    padding-left: 1%;
  }


 
  .button2 {
    float: right;
    margin-right: 4%;
    border: none;
    background-color: #89CFF0;
    font-weight: 500;
    color: black;
    padding-left: 2%;
  }

  
  .button3{
    float: right;
    margin-right: 4%;
    margin-top: 10%;
    border: none;
    background-color: #89CFF0;
    font-weight: 500;
    color: black;
    padding-left: 2%;
    margin-bottom: 0%;
  }



  .butt {
    padding-left: 12%;
    width: 50%;
    background-color: white;
    border: none;
    color: black;
    font-weight: 500;
  }


  .date1 {
    background-color: transparent;
    border: none;

  }

  .btnchart {
    color: #007bff;
    font-weight: bold;
  }

  .btnchart:hover {
    color: rgb(250, 48, 34);
  }

  .btnchart:active1 {
    color: rgb(250, 48, 34);
  }

  .active1 {
    color: rgb(250, 67, 39);
  }


  .chart2#drm {
    padding-left: 20px;
    float: left !important;
    width: 24%;
    margin-left: 1%;
    margin-right: 0%;
  }

  .chart2#phod {
    padding-right: 20px;
    float: right !important;
    width: 24%;
    margin-left: 1%;
    margin-right: 0%;
  }

  #poi tr,
  th {
    position: sticky;
    left: 0;
  }

  #fo tr,
  th {
    position: sticky;
    left: 0;
  }

  /* Apeksha styles starts */

  .modal-dialog-full-width {
    width: 70% !important;
    height: 100% !important;
    margin: 0 !important;
    padding-left: 30% !important;
    max-width: none !important;
    text-align: center !important;
  }

  .modal-content-full-width {
    height: auto !important;
    min-height: 100% !important;
    border-radius: 0 !important;
    text-align: center !important;
  }

  .modal-header-full-width {
    border-bottom: 0px solid #9ea2a2 !important;
  }

  .modal-footer-full-width {
    border-top: 0px solid #9ea2a2 !important;
  }

  .modal-dialog-half-width{
    width: 60% !important;
    height: 80% !important;
    margin: 15% !important;
    max-width: none !important;
    text-align: center !important;
    
  }

  .modal-content-half-width{
    width: 60% !important;
    height: 80% !important;
    border-radius: 0 !important;
    text-align: center !important;
    
  }

  .modal-header-half-width{
    border-bottom: 0px solid #9ea2a2 !important;
  }
  

  /* Apeksha styles end here */

  #cardf {
    float: right;
    margin-left: -0.2%;
    margin-right: 0%;
  }




  .buttona {
    float: right;
    margin-right: 2%;
    margin-top: 0.5%;
  }

  
  /* .card5{
    width: 23%;
    margin-left: 15px;
    float: right;
  } */

  .tabledo .dataTables_wrapper .dataTables_paginate .paginate_button {
    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
    border: 0px;
    background-color:rgb(255,255,255,0) !important;
    color: #007bff !important;
    
}
.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
    border: 0px;
    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
    background-color: rgba(232, 77, 77, 0) !important;
    color: #007bff !important;
    
}


.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button.current, .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
  border: 0px;
    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
  color: rgba(51, 51, 51, 0) !important;
  border: 1px solid rgba(0, 0, 0, 0);
  background-color: rgba(232, 77, 77, 0);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgb(255,255,255,0)), color-stop(100%, rgba(0, 0, 0, 0)));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* Chrome10+,Safari5.1+ */
  background: -moz-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* FF3.6+ */
  background: -ms-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* IE10+ */
  background: -o-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* Opera 11.10+ */
  background: linear-gradient(to bottom, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* W3C */
}
.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
  
  color: #007bff !important;
  border: 1px solid rgba(17, 17, 17, 0);
  background-color: #58585800;
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #58585800), color-stop(100%rgba(17, 17, 17, 0)11));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* Chrome10+,Safari5.1+ */
  background: -moz-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* FF3.6+ */
  background: -ms-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* IE10+ */
  background: -o-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* Opera 11.10+ */
  background: linear-gradient(to bottom, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* W3C */
}

.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button:active {
  border: 0px;
    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
  outline: none;
  background-color: #2b2b2b00;
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #2b2b2b00), color-stop(100%, #0c0c0c00));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* Chrome10+,Safari5.1+ */
  background: -moz-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* FF3.6+ */
  background: -ms-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* IE10+ */
  background: -o-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* Opera 11.10+ */
  background: linear-gradient(to bottom, #2b2b2b00 0%, #0c0c0c00 100%);
  /* W3C */
  box-shadow: inset 0 0 3px rgba(17, 17, 17, 0);
}

.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button {

    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
    border: 0px;
    background-color:rgb(255,255,255,0) !important;
    color: #007bff !important;
    
}
.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
    border: 0px;
    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
    background-color: rgba(232, 77, 77, 0) !important;
    color: #007bff !important;
    
}


.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button.current, .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
  border: 0px;
    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
  color: #333 !important;
  border: 1px solid rgba(0, 0, 0, 0);
  background-color: rgba(232, 77, 77, 0);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgb(255,255,255,0)), color-stop(100%, rgba(0, 0, 0, 0)));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* Chrome10+,Safari5.1+ */
  background: -moz-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* FF3.6+ */
  background: -ms-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* IE10+ */
  background: -o-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* Opera 11.10+ */
  background: linear-gradient(to bottom, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
  /* W3C */
}
.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
  
  color: #007bff !important;
  border: 1px solid rgba(17, 17, 17, 0);
  background-color: #58585800;
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #58585800), color-stop(100%rgba(17, 17, 17, 0)11));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* Chrome10+,Safari5.1+ */
  background: -moz-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* FF3.6+ */
  background: -ms-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* IE10+ */
  background: -o-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* Opera 11.10+ */
  background: linear-gradient(to bottom, #58585800 0%, rgba(17, 17, 17, 0) 100%);
  /* W3C */
}

.tabledo .dataTables_wrapper .dataTables_paginate .paginate_button:active {
  border: 0px;
    padding-left : 0px;
    padding-right : 0px;
    padding-bottom : 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
  outline: none;
  background-color: #2b2b2b00;
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #2b2b2b00), color-stop(100%, #0c0c0c00));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* Chrome10+,Safari5.1+ */
  background: -moz-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* FF3.6+ */
  background: -ms-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* IE10+ */
  background: -o-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
  /* Opera 11.10+ */
  background: linear-gradient(to bottom, #2b2b2b00 0%, #0c0c0c00 100%);
  /* W3C */
  box-shadow: inset 0 0 3px rgba(17, 17, 17, 0);
}
</style> -->
<style>
  .modal-content{
  border: solid !important;
  border-width: 1px !important;
}
.modal-header{
  background-color: #343A40 !important;
  color: #fff;
  border-radius: inherit;
}
.close span{
  color: #fff !important;
}
.close span:hover{
  color: #fff !important;
}
  .modal.left .modal-dialog,
  .modal.right .modal-dialog {
    position: fixed;
    margin: auto;
    width: 1200px;
    height: 100%;
    -webkit-transform: translate3d(0%, 0, 0);
    -ms-transform: translate3d(0%, 0, 0);
    -o-transform: translate3d(0%, 0, 0);
    transform: translate3d(0%, 0, 0);
  }

  .modal.left .modal-content,
  .modal.right .modal-content {
    height: 100%;
    overflow-y: auto;
  }

  .modal.left .modal-body,
  .modal.right .modal-body {
    padding: 15px 15px 80px;
  }

  /*Left*/
  .modal.left.fade .modal-dialog {
    left: -320px;
    -webkit-transition: opacity 0.3s linear, left 0.3s ease-out;
    -moz-transition: opacity 0.3s linear, left 0.3s ease-out;
    -o-transition: opacity 0.3s linear, left 0.3s ease-out;
    transition: opacity 0.3s linear, left 0.3s ease-out;
  }

  .modal.left.fade.show .modal-dialog {
    left: 0;
  }

  /*Right*/
  .modal.right.fade .modal-dialog {
    right: -320px;
    -webkit-transition: opacity 0.3s linear, right 0.3s ease-out;
    -moz-transition: opacity 0.3s linear, right 0.3s ease-out;
    -o-transition: opacity 0.3s linear, right 0.3s ease-out;
    transition: opacity 0.3s linear, right 0.3s ease-out;
  }

  .modal.right.fade.show .modal-dialog {
    right: 0;
  }

  /* ----- MODAL STYLE ----- */
  .modal-content {
    border-radius: 0;
    border: none;
  }

  .modal-header {
    border-bottom-color: #EEEEEE;
    background-color: #FAFAFA;
  }

  .modal-lg {
    max-width: 70% !important;
  }

  .modal {
    pointer-events: none;
  }

  .modal-backdrop {
    display: none;
  }


  .table-bordered th {
    /* background: rgb(243, 205, 205); */
    /* background-image: linear-gradient(to right, #8bccfc , #8bccfc,#8bccfc,#d4eafa); */
    background-color: #fbdaef;

  }

  th {
    border: 1px;
    padding: 5px;
    width: 80px;
    min-width: 80px;
  }

  td {
    border: 1px;
    padding: 5px;
    width: 80px;
    min-width: 80px;
  }


  .headcol {
    position: sticky;
    background-color: #d9ecfa;
  }



  #sidebar-container .list-group button {
    padding: 50%;
    margin: 0%;
    height: 312.5%;
    color: white;
  }

  #sidebar-container2 .list-group button {
    padding: 12.5%;
    margin: 12.5%;
    height: 312.5%;
    color: white;
  }


  .btn {
    background-color: rgb(178, 229, 245);
    color: black;

  }

  .btn:hover {
    background-color: #90c0f7;
    color: black
  }

  .readmore {
    margin-top: -11px;

  }

  #more {
    display: none;
  }

  #myBtn {
    border: none;
    background-color: white;
  }

  .button1 {
    float: right;
    margin-right: 2%;
    border: none;
    background-color: #89CFF0;
    font-weight: 500;
    color: black;
    padding-left: 1%;
  }



  .button2 {
    float: right;
    margin-right: 4%;
    border: none;
    background-color: #89CFF0;
    font-weight: 500;
    color: black;
    padding-left: 2%;
  }


  .button3 {
    float: right;
    margin-right: 4%;
    margin-top: 10%;
    border: none;
    background-color: #89CFF0;
    font-weight: 500;
    color: black;
    padding-left: 2%;
    margin-bottom: 0%;
  }



  .butt {
    padding-left: 12%;
    width: 50%;
    background-color: white;
    border: none;
    color: black;
    font-weight: 500;
  }


  .date1 {
    background-color: transparent;
    border: none;

  }

  .btnchart {
    color: #007bff;
    font-weight: bold;
  }

  .btnchart:hover {
    color: rgb(250, 48, 34);
  }

  .btnchart:active1 {
    color: rgb(250, 48, 34);
  }

  .active1 {
    color: rgb(250, 67, 39);
  }


  .chart2#drm {
    padding-left: 20px;
    float: left !important;
    width: 24%;
    margin-left: 1%;
    margin-right: 0%;
  }

  .chart2#phod {
    padding-right: 20px;
    float: right !important;
    width: 24%;
    margin-left: 1%;
    margin-right: 0%;
  }

  #poi tr,
  th {
    position: sticky;
    left: 0;
  }

  #fo tr,
  th {
    position: sticky;
    left: 0;
  }

  /* Apeksha styles starts */

  .modal-dialog-full-width {
    width: 70% !important;
    height: 100% !important;
    margin: 0 !important;
    padding-left: 30% !important;
    max-width: none !important;
    text-align: center !important;
  }

  .modal-content-full-width {
    height: auto !important;
    min-height: 100% !important;
    border-radius: 0 !important;
    text-align: center !important;
  }

  .modal-header-full-width {
    border-bottom: 0px solid #9ea2a2 !important;
  }

  .modal-footer-full-width {
    border-top: 0px solid #9ea2a2 !important;
  }

  .modal-dialog-half-width {
    width: 60% !important;
    height: 80% !important;
    margin: 15% !important;
    max-width: none !important;
    text-align: center !important;

  }

  .modal-content-half-width {
    width: 60% !important;
    height: 80% !important;
    border-radius: 0 !important;
    text-align: center !important;

  }

  .modal-header-half-width {
    border-bottom: 0px solid #9ea2a2 !important;
  }


  /* Apeksha styles end here */

  #cardf {
    float: right;
    margin-left: -0.2%;
    margin-right: 0%;
  }

  .ddropdown {

    overflow: hidden;
  }

  .ddropdown .ddropbtn {
    border: none;
    outline: none;
  }

  .ddropdown-content {
    display: none;
    position: fixed;
  }

  .ddropdown-content a {
    display: block;

  }

  .ddropdown:hover .ddropbtn {
    background-color: blue;
  }

  .ddropdown-content a:hover {
    background-color: #ddd;
  }


  .dropdown-left-manual {
    right: 0;
    left: auto;
    padding-left: 1px;
    padding-right: 1px;
  }

  .dropdown-menu {
    left: auto !important;
    right: 0 !important;
  }

  .dropdown-menu-left {
    left: -80px !important;
    
  }




  .buttona {
    float: right;
    margin-right: 2%;
    margin-top: 0.5%;
  }


  /* .card5{
  width: 23%;
  margin-left: 15px;
  float: right;
} */
  .drft-inspect-lbl {
    background-color: rgb(156, 245, 133);
    /* background-color: rgb(251, 208, 243); */

  }

  .isud-inspect-lbl {
    background-color: rgb(156, 245, 133);
    /* background-color:rgb(172, 251, 153); */

  }

  .drft-inspect-val {
    background-color: rgb(194, 248, 181);

  }

  .isud-inspect-val {
    background-color: rgb(194, 248, 181);

  }

  .inspect-note {
    
    background: #ec008c;
    /* fallback for old browsers */
    background: -webkit-linear-gradient(to right, #fc6767, #f944b1);
    /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to right, #fc6767, #f566bc);
    /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */


  }

  .inspect-note1 {
    
    background: #037022;
    /* fallback for old browsers */
    background: -webkit-linear-gradient(to right, #4dad38, #65a55b);
    /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to right, #53d64c, #84fa88);
    /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */


  }

  h6.card-title {
    font-size: 17px !important;
    font-weight: 600;
    /* border-bottom:1px solid #4d4d4d; */

  }

  .footer-desc {
    font-size: 13px;
    font-weight: bold;
    color: #4d4d4d;
    text-align: center;
  }

  .card table td {
    padding: 0.15rem;
  }

  .dot-red {
    height: 18px;
    width: 18px;
    background-color: #ff6666;
    border-radius: 50%;
    display: inline-block;
    margin-top: 6px;
  }

  .dot-yellow {
    height: 18px;
    width: 18px;
    background-color: #e6b800;
    border-radius: 50%;
    display: inline-block;
    margin-top: 6px;
  }

  .dot-desc {
    font-size: 13px;
    font-weight: 600;
    margin-left: 10px;
    margin-right: 10px;
    font-family: arial;
  }

  .tabledash .dataTables_wrapper .dataTables_paginate .paginate_button {

    padding-left: 0px;
    padding-right: 0px;
    padding-bottom: 0px;

    bottom: 0;

    margin-left: 0.25rem;
    margin-right: 0.5rem;
    border: 0px;
    background-color: rgb(255, 255, 255, 0) !important;
    color: #007bff !important;

  }

  .tabledash .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
    border: 0px;
    padding-left: 0px;
    padding-right: 0px;

    padding-bottom: 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
    background-color: rgba(232, 77, 77, 0) !important;


  }

  .tabledash .dataTables_wrapper .dataTables_paginate .paginate_button.current,
  .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    border: 0px;
    padding-left: 0px;
    padding-right: 0px;

    padding-bottom: 0px;
    margin-left: 0.25rem;
    margin-right: 0.5rem;
    color: #333 !important;
    border: 1px solid rgba(0, 0, 0, 0);
    background-color: rgba(232, 77, 77, 0);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgb(255, 255, 255, 0)), color-stop(100%, rgba(0, 0, 0, 0)));
    /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
    /* Chrome10+,Safari5.1+ */
    background: -moz-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
    /* FF3.6+ */
    background: -ms-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
    /* IE10+ */
    background: -o-linear-gradient(top, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
    /* Opera 11.10+ */
    background: linear-gradient(to bottom, rgba(230, 230, 230, 0) 0%, rgba(0, 0, 0, 0) 100%);
    /* W3C */
  }

  .tabledash .dataTables_wrapper .dataTables_paginate .paginate_button:hover {

    /* color: #007bff !important; */
    border: 1px solid rgba(17, 17, 17, 0);
    background-color: #58585800;
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #58585800), color-stop(100%rgba(17, 17, 17, 0)11));
    /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
    /* Chrome10+,Safari5.1+ */
    background: -moz-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
    /* FF3.6+ */
    background: -ms-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
    /* IE10+ */
    background: -o-linear-gradient(top, #58585800 0%, rgba(17, 17, 17, 0) 100%);
    /* Opera 11.10+ */
    background: linear-gradient(to bottom, #58585800 0%, rgba(17, 17, 17, 0) 100%);
    /* W3C */
  }

  .tabledash .dataTables_wrapper .dataTables_paginate .paginate_button:active {
    border: 0px;
    padding-left: 0px;
    padding-right: 0px;
    padding-bottom: 0px;

    margin-left: 0.25rem;
    margin-right: 0.5rem;
    outline: none;
    background-color: #2b2b2b00;
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #2b2b2b00), color-stop(100%, #0c0c0c00));
    /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
    /* Chrome10+,Safari5.1+ */
    background: -moz-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
    /* FF3.6+ */
    background: -ms-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
    /* IE10+ */
    background: -o-linear-gradient(top, #2b2b2b00 0%, #0c0c0c00 100%);
    /* Opera 11.10+ */
    background: linear-gradient(to bottom, #2b2b2b00 0%, #0c0c0c00 100%);
    /* W3C */
    box-shadow: inset 0 0 3px rgba(17, 17, 17, 0);
  }

  .tabledash .dataTables_wrapper .dataTables_info {
    clear: both;
    float: left;
    /* padding-top: 0.25em; */
  }

  .tabledash .dataTables_wrapper .dataTables_paginate {
    float: right;
    text-align: right;
    /* padding-top: 0.25em; */
  }

  .btn1 {
    background-color: rgb(255, 255, 255);
    color: black;
    font-size: 20px;
    border-radius: 10px;
    padding: 3% 3% 3% 2%;
  }

  .dropdown-toggle.tog1::after {
    color: black;
  }

  .btn1:hover {
    /* background-color: rgb(250, 201, 110); */
    background-color: #faf6f3;
    transition: 3ms;
    color: black !important;
    font-weight: lighter !important;
    text-decoration: none;


  }

  .dropdown:hover .dropdown-toggle {

    color: black !important;
  }

  .daterangepicker{
    position:absolute;
    margin-left: 75%;
    margin-top: 5%;
}
</style>

<style>
  .span-filter
  { 
      box-shadow: 0 2px 3px 0 rgba(0,0,0,0.2);
      transition: 0.3s;
      background-image:linear-gradient(#ff9d2f, #ff6126);
      padding:4px;
      position:fixed;
      right:10px;
      top:45vh;
      z-index:99;
      border-top-left-radius:3px;
      border-bottom-left-radius:3px;
      cursor:pointer;
      color:#fff;
  }
  .sidenav {
    height: 200px;
    width: 0; /* 0 width - change this with JavaScript */
    position: fixed; /* Stay in place */
    z-index: 1; /* Stay on top */
    top: calc(50% - 140px); /* Stay at the top */
    right: 0;
    text-align:left;
    background-color: #fff; 
    overflow-x: hidden; /* Disable horizontal scroll */
    padding-top: 40px; /* Place content 60px from the top */
    z-index:101;
    border-left: 1px solid #cfd8dc!important;
    transition: .5s;
    backface-visibility: hidden;
    border-left: 1px solid rgba(0,0,0,.05);
    box-shadow: 0 0 8px rgba(0,0,0,.1);
  }
  
  /* The navigation menu links */
  .sidenav a {
    padding: 6px 6px 6px 22px;
    text-decoration: none;
    font-size: 12px;
    color: #333333;
    display: block;
    transition: 0.3s;
    font-weight:600;
  }
  
  /* When you mouse over the navigation links, change their color */
  .sidenav a:hover {
    color: #cc5200;
  }
  
  /* Position and style the close button (top right corner) */
  .sidenav .closebtn {
    position: absolute;
    top: 0;
    right: 15px;
    font-size: 26px;
    margin-left: 50px;
  }
  .misc-link-item
  {
      padding:2px !important;
  }
  
  .h6.card-title{
    font-size:0.8rem !important;
  }
  </style>
<form method="POST">{%csrf_token%}
  <div class="container-fluid">
    <div class="row" style="padding-left:1%; padding-right: 1%;">
      <div class="" style=" width: 100%;height: 10%; ">
        <div class="" style="margin-top: -48px;">
          <div class="" style="height:20% ; padding-bottom: 0.5%;padding-top: 0.5%;background-image: radial-gradient(circle farthest-side, #fceabb, #f8b500);">
            <h3 class="font-weight-bold text-black float-justify text-center"> DASHBOARD OF
              {{request.session.designation | safe}}

              <!-- <input class="date1 btn-sm font-weight-bold" type="text" id="summarydate" value="({{daterange}})"
          readonly /> -->

              <button class="btn btn-sm" type="submit" name="submit" value="sum5" id="sum5" hidden></button>
              <input type="text" value="({{setvalue}})" name="setsummarydatetest" id="setsummarydatetest" hidden>




              <div class="font-weight-bold text-primary float-right">
                
                <div class="dropdown">
                  <button class="btn1  dropdown-toggle tog1" type="button" id="dropdownMenuButton"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:black;margin-right:1rem;font-size: 15px;">
                    <i class="fa fa-calendar"></i>   {{daterange}}
                  </button>
                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <button class="dropdown-item" type="submit" name="submit" value="sum1" data-toggle="modal" data-target="#loading-modal" >All</button>
                    <button class="dropdown-item" type="submit" name="submit" value="sum2" data-toggle="modal" data-target="#loading-modal" >Last 3
                      Months</button>
                    <button class="dropdown-item" type="submit" name="submit" value="sum3" data-toggle="modal" data-target="#loading-modal" >Last 6
                      Months</button>
                    <button class="dropdown-item" type="submit" name="submit" value="sum4" data-toggle="modal" data-target="#loading-modal" >Last 12
                      months</button>

                    <button class="dropdown-item" type="button" name="submit" value=""
                      onclick="funclicksummarydate()">Custom Range</button>
                    <span>

                    <input hidden class="btn btn-sm font-weight-bold" type="text" id="summarydate" name="daterange"
                      value="{{daterange}}" onchange="setsummarydate(this.value)" readonly
                      onclick="setsummarydateclick()" />
                    </span>


                  </div>
                </div>

              </div>
            </h3>

          </div>

        </div>
        <hr/>
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-4" style="padding:0%; ">
              <div class="card text-center" style=" margin-right: 0%;padding-bottom: 0%;height: 90px; " id="myinsp6">

                <h6 class="card-title py-1 inspect-note1" style="margin: 0%;">Inspection Notes (Nos/Paras)</h6>



                <div class="row no-gutters" style="height:40%" ;>
                  <div class="col-md-6 drft-inspect-lbl">Under Issue</div>

                  <div class="col-md-6 isud-inspect-lbl">Already Issued</div>
                  <!-- <div class="col-md-2 isud-inspect-lbl">Complied</div>
                      <div class="col-md-2 isud-inspect-lbl">Pending</div>
                      <div class="col-md-4 isud-inspect-lbl">% Compliance</div> -->
                </div>

                <div class="row no-gutters " style="height: 40%;font-weight: 700;">
                  <div class="col-md-6 drft-inspect-val">{{deti}}/{{detj}}<a
                      href="{% url 'draft_inspection_form' %}?data3={{color}}&daterange={{daterange}}"
                      class="stretched-link" data-toggle="tooltip" title="Total Inspection/Total Items Count"></a>
                  </div>
                  <div class="col-md-6 isud-inspect-val">{{totali}}/{{totalj}}<a
                      href="{% url 'inspection_doneby_list' %}?data3={{color}}&daterange={{daterange}}"
                      class="stretched-link" data-toggle="tooltip" title="Total Inspection/Total Items Count"></a>
                  </div>



                </div>


              </div>
            </div>
            <div class="col-md-4" style="padding:0%">
              <div class="card" style="background-color: rgb(245, 198, 184);height: 90px;">
                <div class="text-center no-gutters">
                  <h6 class="card-title py-1 inspect-note" style="margin: 0%;">
                    Compliance Status of My Inspections (Nos/Paras)</h6>
                  <div class="row no-gutters " style="height: 35%;background-color:#fca2a2;">
                    <div class="col">Complied</div>
                    <div class="col">Pending</div>
                    <div class="col">% Compliance</div>


                  </div>
                  <div class="row no-gutters" style="font-weight: 700;">
                    <div class="col"><a role="button"
                        href="{% url 'close_compliance_checklist' %}?data3={{color}}&daterange={{daterange}}"
                        style="color: rgb(34, 152, 18);" target="_blank " data-toggle="tooltip" title="Total Inspection/Total Items Count">{{fulli1}}/</a><a role="button"
                        href="{% url 'dash_details' %}?data1=fullj&data2=Item&data3={{color}}&daterange={{daterange}}"
                        style="color:rgb(34, 152, 18);" target="_blank" data-toggle="tooltip" title="Total Inspection/Total Items Count">{{fullj}}</a></div>

                    <div class="col"><a role="button"
                        href="{% url 'created_checklist' %}?data3={{color}}&daterange={{daterange}}"
                        style="color:rgb(238, 55, 55);" target="_blank" data-toggle="tooltip" title="Total Inspection/Total Items Count">{{pendi}}/</a><a role="button" target="_blank"
                        href="{% url 'dash_details' %}?data={{i.type}}&data1=pendj&data2=Item&data3={{color}}&daterange={{daterange}}"
                        style="color: rgb(238, 55, 55);" data-toggle="tooltip" title="Total Inspection/Total Items Count">{{pendj}}</a></div>
                    <div class="col">
                      <p data-toggle="tooltip" title="Total Inspection/Total Items Count">{{pmy}} /
                        {{pitem}}</p>
                    </div>
                  </div>



                </div>
              </div>
            </div>

            <div class="col-md-4" id="myinsp6b" style="padding: 0%; ">
              <div class="card" style="background-color: rgb(255, 255, 147); margin-right: 0%;height: 90px; ">
                <div class="text-center no-gutters" style="height: 90px;">
                  <h6 class="card-title py-1" style="background-color:  #ffcf4a;margin: 0%;">Budget
                    Pronouncements (Total/Implemented)</h6>

                  <div class="row no-gutters" style="height:35%;background-color: rgb(249, 249, 104);">
                    {% for yr in budget_list_yr %}
                    <div class="col border-right border-warning">{{yr}}</div>
                    {% endfor %}
                    <!-- <div class="col border-right border-warning">18-19</div>
              <div class="col border-right border-warning">19-20</div>
              <div class="col border-right border-warning">20-21</div>
              <div class="col border-right border-warning">21-22</div>
              <div class="col">22-23</div> -->

                  </div>

                  <div class="row no-gutters" style="font-weight: 700;">
                    {% for datab in budget_list_data %}
                    <div class="col border-right border-warning" data-toggle="tooltip" title="Total/Implemented">
                      <a href="/budget_implementation?financial_year={{datab.make_yr}}" target="_blank"
                        style="color: black" >{{datab.data}}</a>/<a
                        href="/budget_implementation?financial_year={{datab.make_yr}}" target="_blank"
                        style="color:rgb(43, 177, 43);">{{datab.data}}</a>
                    </div>
                    {% endfor %}
                    <!-- <div class="col border-right border-warning"><a href="/budget_implementation" target="_blank" style="color: green;">3</a>/<a href="/budget_implementation" target="_blank" style="color: red;">5</a></div>
              <div class="col border-right border-warning"><a href="/budget_implementation" target="_blank" style="color: green;">1</a>/<a href="/budget_implementation" target="_blank" style="color: red;">3</a></div>
              <div class="col border-right border-warning"><a href="/budget_implementation" target="_blank" style="color: green;">3</a>/<a href="/budget_implementation" target="_blank" style="color: red;">5</a></div>
              <div class="col border-right border-warning"><a href="/budget_implementation" target="_blank" style="color: green;">7</a>/<a href="/budget_implementation" target="_blank" style="color: red;">10</a></div>
              <div class="col"><a href="/budget_implementation" target="_blank" style="color: green;">5</a>/<a href="/budget_implementation" target="_blank" style="color: red;">6</a></div>
            </div> -->
                  </div>


                </div>
              </div>
            </div>

            <div class="col-md-4" id="myinsp5" style="padding: 0%; ">
              <div class="card"
                style="background-color: rgb(255, 255, 147); border-color:rgb(203, 211, 89); margin-right: 0%;padding-bottom: 0%;height: 90px;">
                <div class="text-center no-gutters">
                  <h6 class="card-title py-1" style="background-color:rgb(252, 236, 19);margin: 0%;">
                    My Compliance to Higher Officials (Nos/Paras)</h6>

                  <div class="row no-gutters " style="height: 35%; background-color: rgb(249, 249, 104);">
                    <div class="col">Complied</div>
                    <div class="col">Pending</div>
                    <div class="col">% Compliance</div>


                  </div>
                  <div class="row no-gutters" style="font-weight: 700;">
                    <div class="col"><a role="button"
                        href="{% url 'compliance_form_accept' %}?data3={{color}}&daterange={{daterange}}"
                        target="_blank" style="color: rgb(46, 196, 27);" data-toggle="tooltip" title="Total Inspection/Total Items Count)">{{repliedi}}/</a>
                      <a role="button"
                        href="{% url 'pending_forme' %}?data=repliedj&data3={{color}}&daterange={{daterange}}"
                        target="_blank" style="color: rgb(72, 212, 51);" data-toggle="tooltip" title="Total Inspection/Total Items Count">{{repliedj}}</a>
                    </div>

                    <div class="col"><a role="button"
                        href="{% url 'compliance_form' %}?data3={{color}}&daterange={{daterange}}" target="_blank"
                        style="color: rgb(234, 10, 10);" data-toggle="tooltip" title="Total Inspection/Total Items Count" >{{pendingi}}/</a>
                      <a role="button"
                        href="{% url 'pending_forme' %}?data=pendingj&data3={{color}}&daterange={{daterange}}"
                        target="_blank" style="color: rgb(228, 9, 9);"  data-toggle="tooltip" title="Total Inspection/Total Items Count">{{pendingj}}</a>
                    </div>
                    <div class="col">
                      <p data-toggle="tooltip" title="Total Inspection/Total Items Count">
                        {{replyi}}
                        /{{replyj}}</p>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>


        </div>



      </div>
    </div>
  </div>
  <br>

  <!-- GRAPH-1 -->
  <div class="container-fluid">
    <div class="row" style="padding-left:0%; ">
      <div class="col-xl-6 col-lg-6 col-md-12" id="zone">
        <div class="chart2">
          <div class="card shadow ">
            <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
              <h6 class="font-weight-bold  text-center">
                  Pending Compliance % (Zone/PU/Unit)

                <!-- <button class="btn btn-sm " style="float: right;"><b>T</b></button> -->

              </h6>
            </div>
            <div class="card-body d-flex flex-column" style="padding: 0.25rem; min-height:200px;">
              <!-- <div class="tab-content"> -->
              <div class="row">
                <div class="col-md-6">
                  <center><a class="btnchart" href="javascript:void(0);" id="all" role="button"
                      onclick="chartall()">All</a>/<a class="btnchart" href="javascript:void(0);" id="rb" role="button"
                      onclick="chartRB()">RB</a>/ <a class="btnchart" href="javascript:void(0);" id="zoneid"
                      role="button" onclick="chartzone()">Zone</a></center>

                  <div class="tab-content">
                    <div id="comp" class="tab-pane " role="tabpanel" aria-labelledby="flamingo-tab">
                      <canvas id="myChart7" style="width:100%; " hidden></canvas>
                      <canvas id="myChart71" style="width:100%; " hidden></canvas>
                      <canvas id="myChart72" style="width:100%; " hidden></canvas>
                    </div>

                    <div id="noncomp" class="tab-pane show active" role="tabpanel" aria-labelledby="flamingo-tab">

                      <canvas id="myChart7non" style="width:100%;  min-height:200px;"></canvas>
                      <canvas id="myChart71non" style="width:100%; min-height:200px;"></canvas>
                      <canvas id="myChart72non" style="width:100%; min-height:200px; "></canvas>

                    </div>
                  </div>

                </div>
                <div class="col-md-6">
                  <center> <a class="btnchart" href="javascript:void(0);" id="all1" role="button"
                      onclick="chartall1()">All</a>/<a class="btnchart" href="javascript:void(0);" id="pu" role="button"
                      onclick="chartPU()">PU</a>/<a class="btnchart" href="javascript:void(0);" id="ctiid" role="button"
                      onclick="chartCTI()">CTI</a>/<a class="btnchart" href="javascript:void(0);" id="psu" role="button"
                      onclick="chartPSU()">PSU</a></center>

                  <div class="tab-content">
                    <div id="comp1" class="tab-pane fade " role="tabpanel" aria-labelledby="flamingo-tab">
                      <canvas id="myChart8" style="width:100%; " hidden></canvas>
                      <canvas id="myChart81" style="width:100%; " hidden></canvas>
                      <canvas id="myChart82" style="width:100%; " hidden></canvas>
                      <canvas id="myChart83" style="width:100%; " hidden></canvas>
                    </div>
                    <div id="noncomp1" class="tab-pane show active" role="tabpanel" aria-labelledby="flamingo-tab">

                      <canvas id="myChart8non" style="width:100%; min-height:200px;"></canvas>
                      <canvas id="myChart81non" style="width:100%; min-height:200px;"></canvas>
                      <canvas id="myChart82non" style="width:100%; min-height:200px;"></canvas>
                      <canvas id="myChart83non" style="width:100%; min-height:200px;"></canvas>

                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12" align="center">
                  <table style="margin-bottom:0px; width: 100%;">
                    <tr>
                      <td>
                        <center>
                          <span class="dot-red"></span>
                          <span class="dot-desc">Overdue</span>
                          <!-- <span class="dot-yellow"></span>
                                            <span class="dot-desc">Within Target</span> -->
                        </center>

                      </td>

                    </tr>
                  </table>
                </div>
              </div>


              <!-- </div> -->
            </div>
          </div>
        </div>
      </div>


      <!-- GRAPH 2 -->
      <div class="col-xl-3 col-lg-6" id="cti" style="height:80px !important ; padding-left: 0px;" hidden>
        <div class="chart2">
          <div class="card shadow " style="height:100%;">
            <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
              <h6 class="font-weight-bold text-primary text-center">
                <a class="btnchart" href="javascript:void(0);" id="all1" role="button" onclick="chartall1()">Non
                  Compliance %</a>
                <a class="btnchart" href="javascript:void(0);" id="pu" role="button" onclick="chartPU()">PU</a>/<a
                  class="btnchart" href="javascript:void(0);" id="ctiid" role="button" onclick="chartCTI()">CTI</a>/<a
                  class="btnchart" href="javascript:void(0);" id="psu" role="button" onclick="chartPSU()">PSU</a>
                <!-- <button class="btn btn-sm " style="float: right;"><b>T</b></button> -->

                <!-- <span>
          <i class="fas fa-angle-left" role="button" style="font-size:22px" ></i>
        <i class="fas fa-angle-right" role="button" style="font-size:22px"></i></span> -->
              </h6>
              <!-- <ul class="nav nav-tabs nav-fill mb-2">
        <li class="nav-item">
          <a class="nav-link " data-toggle="tab" href="#comp1">% Compliance</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" data-toggle="tab" href="#noncomp1">Non Compliance %</a>
        </li>
      </ul> -->
            </div>
            <div class="card-body" style="padding: 0.25rem; min-height:200px;">


              <!-- </div> -->
            </div>
          </div>
        </div>
      </div>
      <br>

      <div class="col-xl-6 col-lg-6" id="drm">
        <div class="">
          <div class="card shadow " style="height:100%;">
            <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
              <h6 class="font-weight-bold  text-center">Pending Compliance %
              </h6>


            </div>
            <div class="card-body" style="padding: 0.25rem;min-height:200px;">
              <div class="row">
                <div class="col-md-6 text-center">
                  <h6 class="text-primary">DRM Wise</h6>
                </div>
                <div class="col-md-6 text-center">
                  <h6 class="text-primary">PHOD Wise</h6>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
                    <canvas id="myChart9" style="width:100%; min-height:200px;" hidden></canvas>
                    <canvas id="myChart9non" style="width:100%;min-height:200px; "></canvas>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
                    <canvas id="myChart10" style="width:100%;" hidden></canvas>
                    <canvas id="myChart10non" style="width:100%; min-height:200px;"></canvas>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12" align="center">
                  <table style="margin-bottom:0px; width: 100%;">
                    <tr>
                      <td>
                        <center>
                          <span class="dot-red"></span>
                          <span class="dot-desc">Overdue</span>
                          <!-- <span class="dot-yellow"></span>
                                            <span class="dot-desc">Within Target</span> -->
                        </center>

                      </td>

                    </tr>
                  </table>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      <br>

      <div class="col-xl-4 col-lg-6" id="bo" >
        <div class="chart2">
          <div class="card shadow " style="height:100%;">
            <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
              <!-- <h6 class="font-weight-bold text-primary text-center">BO Wise Compliance %
        </h6> -->
              <h6 class="font-weight-bold text-primary text-center">Pending Compliance %
              </h6>
            </div>
            <div class="card-body" style="padding:0%;min-height: 270px;">
              <div class="row">
                <div class="col-md-12">
                  <center><a class="btnchart" href="javascript:void(0);" id="btnbo" role="button" onclick="clickbo()"
                    >BO</a>/<a class="btnchart" href="javascript:void(0);" id="btnadrm" role="button" onclick="clickadrm()"
                    >ADRM</a></center>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
                    <canvas id="myChart11" style="width:100%;" hidden></canvas>
                    <canvas id="myChart11non" style="width:100%;min-height: 200px;"></canvas>
                    <canvas id="myChart13non" style="width:100%;min-height: 200px;"></canvas>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12" align="center">
                  <table style="margin-bottom:0px; width: 100%;">
                    <tr>
                      <td>
                        <center>
                          <span class="dot-red"></span>
                          <span class="dot-desc">Overdue</span>
                          <!-- <span class="dot-yellow"></span>
                                            <span class="dot-desc">Within Target</span> -->
                        </center>

                      </td>

                    </tr>
                  </table>
                </div>
              </div>
              
            </div>

          </div>
        </div>
      </div>


      <div class="col-xl-4 col-lg-6" id="otheruser" >
        <div class="chart2">
          <div class="card shadow " style="height:100%;">
            <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
              <!-- <h6 class="font-weight-bold text-primary text-center">BO Wise Compliance %
        </h6> -->
              <h6 class="font-weight-bold text-center">Marked Users Pending Compliance %
              </h6>
            </div>
            <div class="card-body" style="padding:0%;min-height: 270px;">
              <div class="row">
                <div class="col-md-12">
                  <center><a class="btnchart" href="javascript:void(0);" >&nbsp;</a></center>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
                    <canvas id="myChart14non" style="width:100%;min-height: 200px;"></canvas>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12" align="center">
                  <table style="margin-bottom:0px; width: 100%;">
                    <tr>
                      <td>
                        <center>
                          <span class="dot-red"></span>
                          <span class="dot-desc">Overdue</span>
                          <!-- <span class="dot-yellow"></span>
                                            <span class="dot-desc">Within Target</span> -->
                        </center>

                      </td>

                    </tr>
                  </table>
                </div>
              </div>
              
            </div>

          </div>
        </div>
      </div>

      <div class="chart2" id="phod" style="padding-left:0%; " hidden>
        <div class="card shadow " style="height:100%;">
          <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
            <!-- <h6 class="font-weight-bold text-primary text-center">PHOD Wise Compliance %
    </h6> -->
            <h6 class="font-weight-bold text-primary text-center">PHOD Wise Non Compliance %
            </h6>
          </div>
          <div class="card-body" style="padding: 0.25rem; min-height:200px;">
            <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
              <canvas id="myChart10" style="width:100%;" hidden></canvas>
              <canvas id="myChart10non" style="width:100%; min-height:200px;"></canvas>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-lg-6" id="departmentwise" style="height:80px !important ; padding-left: 0%;" hidden>
        <div class="chart2">
          <div class="card shadow " style="height:100%;">
            <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
              <!-- <h6 class="font-weight-bold text-primary text-center">Department Wise Compliance %
      </h6> -->
              <h6 class="font-weight-bold text-primary text-center">Department Wise Non Compliance %
              </h6>
            </div>
            <div class="card-body" style="padding: 0.25rem; min-height:200px;">
              <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
                <canvas id="myChart12" style="width:100%; " hidden></canvas>
                <canvas id="myChart12non" style="width:100%; min-height:200px; "></canvas>
              </div>
            </div>

          </div>
        </div>
      </div>
      <!-- CHART-D.O LETTERS -->
     
{% if das_desig2 == 'CRB' or das_desig2 == 'GM' %}
<div class="col-xl-4 col-lg-6" id="cardf" style="padding-left:0%; ">
{% else %}
<div class="col-xl-5 col-lg-6" id="cardf" style="padding-left:0%; ">
  {% endif %}
        <div class="card shadow" style="height:100%;">
          <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">

            <div class="row">
              <div class="col-lg-12 ">
                <h6 class="font-weight-bold text-black text-center">
                  Status of <a id="domy" href="javascript:void(0);" class="btnchart" role="button" onclick="clickdomy()">Issued</a><a id="doslash">/</a><a id="dorecieved" href="javascript:void(0);" class="btnchart" role="button" onclick="clickdorecieved()">Received</a> D.O. Letters</h6>
              </div>
              <!-- <div class="col-lg-6">
                  <a href="/letters_marked"  id="sendc" data-toggle="tooltip"
                  title="Send Compliances"><i class="fa fa-reply" aria-hidden="true" type="button" class="btn btn-sm btn-default px-3" style="float:right;margin-left: 4%;"></i></a>
      
                  <a href="/view_previous" data-toggle="tooltip"
                  title="View Previous D.O. Letters"><i class="fa fa-eye" aria-hidden="true" type="button" class="btn btn-sm btn-default px-3" style="float:right;margin-left: 4%;"></i></a>
      
      
                  <a href="#" data-toggle="modal" data-toggle="tooltip"
                  title="Upload New D.O Letters" data-target="#upload_modal">  <i class="bx bx-clipboard" aria-hidden="true" type="button" class="btn btn-sm btn-default px-3" style="float:right;margin-left: 4%;"></i></a>
               
                </div> -->
            </div>



          </div>

          
          <div id="abc" style="padding-left: 3%;padding-right: 2%;">
            <div class="tab-pane fade show active tabledash" role="tabpanel" aria-labelledby="flamingo-tab">
              {% if das_desig2 == 'CRB' %}
              <div class="row" style=" text-size-adjust: 5%;">
      
                  <div class="col-md-6" style="text-align:center;color: rgb(9, 9, 9);"">
                      <a href="/view_previous" 
                      title="View Previous D.O. Letters" ><b>Already Issued</b></a>
                  </div>

                  <div class="col-md-6" style="text-align:center;color: rgb(9, 9, 9);">
                      <a href="#" data-toggle="modal" data-toggle="tooltip"
                  title="Upload New D.O Letters" data-target="#upload_modal"><b> Create New letters </b></a>
                  </div>
              </div>
          
          
              {% else %}
          
              <div class="row">
                <div class="col btn shadow "style="text-align:center" id="dorec">
                  <a id="dorec1" href="#" data-toggle="tooltip"
                  title="Recieved Compliances" class=" btnchart" role="button" onclick="doreclink()"><b>Received D.O.</b></a>                  
                </div>

                  <div class="col shadow"style="text-align:center" id="dosend">
                      <a id="dosend1" href="/letters_marked" data-toggle="tooltip"
                      title="Send Compliances" class="btnchart" role="button" onclick="dosendlink()"><b>Send Compliance</b></a>
                      
                  </div>

                  <div class="col" style="text-align:center" id="doissued">
                      <a id="doissued1" href="/view_previous" 
                      title="View Previous D.O. Letters" class="btnchart" role="button" onclick="doissuedlink()"><b>Already Issued</b></a>
                  </div>

                  <div class="col" style="text-align:center" id="docreate">
                      <a id="docreate1" href="#" data-toggle="modal" data-toggle="tooltip"
                  title="Upload New D.O Letters" data-target="#upload_modal" class="btnchart" role="button" onclick="docreatelink()"><b> Create New letters </b></a>
                  </div>
               </div>

              {% endif %}
              <div id="tableIDdiv">
              <table id="tableID" class="table" style="width:100%; border: none;">
                <thead>
                  <tr>
                    <th style="width:20%; font-weight:normal; padding-left:0px; padding-right:0px;">
                      <b>Issued On</b>
                    </th>
                    <th style="width:70%; font-weight:normal; padding-left:0px; padding-right:0px;" class="text-center">
                      <b>Subject</b>
                    </th>

                    <th style="width:10%; font-weight:normal; padding-left:0px; padding-right:0px;">
                      <b>Status</b>
                    </th>


                  </tr>
                </thead>

                {% for i in tabledolt %}
                {% if i.dodate != '-' %}
                <tr>
                  <th style="width:21%; font-weight:normal; padding-left:0px; padding-right:0px;">

                    {{i.dodate|date:"d/m/y"}}</th>

                  <th class="read_more read_less" style="font-weight:normal; padding-left:0px; padding-right:0px;">
                    <a href="#" data-toggle="modal" data-target="#do_letters_modal_view" class="stretched-link"
                      title="Click to view details" onclick="open_do('{{i.doid}}');">{{i.dosubject}}</a>
                  </th>

                  <th style="width:5%; padding-left:0px; padding-right:0px;">
                    {% if i.do_total == "100" %}

                    <a type="button" class="butt" style="color:#32CD32;" onclick="reply_status('{{i.doid}}');"
                      data-toggle="modal" data-target="#replyStatus_modal" class="stretched-link"
                      title="Officers Replied/Officers Marked" href="">{{i.dolreplied}}/{{i.doltotal}}</a>

                    {% else %}

                    <a type="button" class="butt" style="color:#FF3131;" data-toggle="modal"
                      data-target="#replyStatus_modal" onclick="reply_status('{{i.doid}}');" class="stretched-link"
                      title="Officers Replied/Officers Marked" href="">{{i.dolreplied}}/{{i.doltotal}}</a>

                    {% endif %}
                  </th>

                </tr>
                {% else %}
                <tr>
                  <th> &nbsp</th>
                  <th> </th>
                  <th> </th>
                </tr>

                {% endif %}
                {% endfor %}
              </table>
            </div>
            <div id="tableIDRECEIVEDdiv">
              <table id="tableIDRECEIVED" class="table" style="width:100%; border: none;">
                <thead>
                  <tr>
                    <th style="width:20%; font-weight:normal; padding-left:0px; padding-right:0px;">
                      <b>Issued On</b>
                    </th>
                    <th style="width:70%; font-weight:normal; padding-left:0px; padding-right:0px;" class="text-center">
                      <b>Subject</b>
                    </th>

                    <th style="width:10%; font-weight:normal; padding-left:0px; padding-right:0px;">
                      <b>Status</b>
                    </th>


                  </tr>
                </thead>

                {% for i in tabledolt1 %}
                {% if i.dodate != '-' %}
                <tr>
                  <th style="width:21%; font-weight:normal; padding-left:0px; padding-right:0px;">

                    {{i.dodate|date:"d/m/y"}}</th>

                  <th class="read_more read_less" style="font-weight:normal; padding-left:0px; padding-right:0px;">
                    <a href="#" data-toggle="modal" data-target="#do_letters_modal_view" class="stretched-link"
                      title="Click to view details" onclick="open_do('{{i.doid}}');">{{i.dosubject}}</a>
                  </th>

                  <th style="width:5%; padding-left:0px; padding-right:0px;">
                    {% if i.do_total == "100" %}

                    <a type="button" class="butt" style="color:#32CD32;" onclick="reply_status('{{i.doid}}');"
                      data-toggle="modal" data-target="#replyStatus_modal" class="stretched-link"
                      title="Officers Replied/Officers Marked" href="">{{i.dolreplied}}/{{i.doltotal}}</a>

                    {% else %}

                    <a type="button" class="butt" style="color:#FF3131;" data-toggle="modal"
                      data-target="#replyStatus_modal" onclick="reply_status('{{i.doid}}');" class="stretched-link"
                      title="Officers Replied/Officers Marked" href="">{{i.dolreplied}}/{{i.doltotal}}</a>

                    {% endif %}
                  </th>

                </tr>
                {% else %}
                <tr>
                  <th> &nbsp</th>
                  <th> </th>
                  <th> </th>
                </tr>

                {% endif %}
                {% endfor %}
              </table>
              </div>

            


            </div>
            

          </div>
        </div>
      </div>

     

      

      <!-- CHART-R.B MINUTES -->
      <!-- <div class="col-xl-2 col-lg-6" id="cardr">
        <div class="card shadow" style="height:100%;">
          <div class="card-header">
            <h6 class="font-weight-bold text-center text-black">
              R.B Minutes 
            </h6>
          </div>
          <div class="card-body" style="padding: 0.25rem;padding-left: 5%;">
            <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
              <table style="width:100%; height:120px; margin-bottom:8%;" id="table1">
                {% for i in tablemomd %}
                <tr>
                  <th style="font-weight:normal; padding-left:0px; padding-right:0px;">{{i.momdate|date:"d/m/y"}}</th>
                </tr>     
                {% endfor %}
              </table>
              <a class="button2" style="width:36%; padding-left:3%;" href="/mom_doneby_list">View All</a>
              <a class="button2" style="width:36%; padding-left:6%;" href="/create_mom_form">Create</a>
            </div>
          </div>
        </div>
      </div> -->

      <!-- <div class="col-xl-2 col-lg-6" id="mm">
        <div class="card shadow" style="height:100%;">
          <div class="card-header">
            <h6 class="font-weight-bold text-center text-black">
              Weekly Meeting
            </h6>
          </div>
          <div class="card-body" style="padding: 0.25rem;">
            <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
              <p class="show-read-more">&#x25CF;<a href="" target="_blank">17-08-2022</a>
              </p>
              <p class="show-read-more readmore">&#x25CF;<a href="" target="_blank"> 16-08-2022</a>
              </p>
              <p class="show-read-more readmore">&#x25CF;<a href="" target="_blank"> 15-08-2022 </a>
              </p>
              <button class="button3">View All</button>
            </div>
          </div>
        </div>
      </div> -->

      <!-- CHART-R.B MINUTES -->
      {% if das_desig2 == 'CRB' or das_desig2 == 'GM' %}
      <div class="col-xl-2 col-lg-6" id="cardr" style="padding-left:0%; ">
      {% else %}
      <div class="col-xl-3 col-lg-6" id="cardr" style="padding-left:0%; ">
        {% endif %}
        <div class="card shadow" style="height:100%;">
          <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
            <div class="row">
              <div class="col-lg-12" style="padding-right: 0%;">
                <h6 class="font-weight-bold text-center text-black">
                  {{mom_heading_name}}</h6>
              </div>

            </div></div>
            <div class="card-body" style="padding-left: 3%;padding-right: 2%;padding-top: 0%; padding-bottom: 0%;">
              <div class="tab-pane fade show active tabledash" role="tabpanel" aria-labelledby="flamingo-tab">

                <!-- <div class="row text-center">
                <div class="col-xl-6 col-lg-6 mx-auto">                  
                    <b>Issued On</b>                   
                </div>
                <div class="col-xl-6 col-lg-6 max-auto">                 
                    <b>Status</b>                  
                </div>
              </div> -->
              <div class="row" style=" text-size-adjust: 5%;">
      
                <div class="col-md-12" style="text-align:center;color: rgb(9, 9, 9);">
                    <a href="/mom_doneby_list1" 
                    title="View Previous D.O. Letters"><b>Already Issued</b></a>&nbsp;&nbsp;
                    |&nbsp;&nbsp;
                    <a href="/create_mom_form"><b> Add New</b></a>

                </div>

                <!-- <div class="col-md-6" style="text-align:center;color: rgb(9, 9, 9);">
                    
                </div> -->
            </div>

                <table id="tableID2" class="table" style="width:100%; border: none;">
                  <thead style="border: none;">
                    <tr style="border: none;padding: 0%; ">
                      <td style="width:80%; font-weight:normal; padding-left:10px; padding-right:0px; " >
                        <b>Issued On</b>
                      </td>
                      <td style="width:20%; font-weight:normal; padding-left:0px; padding-right:0px;">
                        <b>Status</b>
                      </td>





                    </tr>
                  </thead>



                  {% for i in list_mom_details %}
                  {% if i.mom_date != '-' %}
                  <tr>
                    <th style="width:80%; font-weight:normal; padding-left:10px; padding-right:0px;" data-toggle="modal"
                      data-target="#MOM_Modal" onclick="mom_modal_view('{{i.mom_no}}')" ><a href="#"
                        style="color:blue">{{i.mom_date|date:"d/m/y"}}</a></th>
                    <!-- <th style="font-weight:normal; padding-left:0px; padding-right:0px;" ></th> -->

                    {% if i.reply_status == i.total_status %}
                    <th style="width:20%; font-weight:normal; padding-left:0px; padding-right:0px;" data-toggle="modal"
                      data-target="#momStatusModal" onclick="momStatusModal_view('{{i.mom_no}}')"  title="Officers Replied/Officers Marked"><a href="#"
                        style="color:green">{{i.reply_status}}/{{i.total_status}}</a></th>
                    {% elif i.total_status > i.reply_status %}
                    <th style="width:20%; font-weight:normal; padding-left:0px; padding-right:0px;" data-toggle="modal"
                      data-target="#momStatusModal" onclick="momStatusModal_view('{{i.mom_no}}')"  title="Officers Replied/Officers Marked"><a href="#"
                        style="color:red">{{i.reply_status}}/{{i.total_status}}</a></th>
                    {% else %}
                    {% endif %}
                  </tr>
                  {% else %}
                  <tr>
                    <th> &nbsp;</th>
                    <th></th>
                  </tr>
                  {% endif %}
                  {% endfor %}
                </table>
                <!-- <a class="button2" style="width:36%; padding-left:3%;" href="/mom_doneby_list">View All</a>
              <a class="button2" style="width:36%; padding-left:6%;" href="/create_mom_form">Create</a> -->
              </div>
              <!-- <div class="pagination" style="position:absolute;bottom: 0;">
              <span class="step-links">
                {% if list_mom_details.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ siridet.previous_page_number }}">previous</a>
                {% endif %}
        
                <span class="current">
                    Page {{ list_mom_details.number }} of {{ list_mom_details.paginator.num_pages }}.
                </span>
        
                {% if list_mom_details.has_next %}
                    <a href="?page={{ list_mom_details.next_page_number }}">next</a>
                    <a href="?page={{ list_mom_details.paginator.num_pages }}">last &raquo;</a>
                {% endif %}
              </span>
            </div> -->
            </div>
          </div>
        </div>
        <!-- end GUNJAN-MOM-CARD -->

      </div>
    </div>

      <!-- CHART-R.B MINUTES -->
      <!-- <div class="col-xl-2 col-lg-6" id="cardr">
        <div class="card shadow" style="height:100%;">
          <div class="card-header">
            <h6 class="font-weight-bold text-center text-black">
              R.B Minutes 
            </h6>
          </div>
          <div class="card-body" style="padding: 0.25rem;padding-left: 5%;">
            <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
              <table style="width:100%; height:120px; margin-bottom:8%;" id="table1">
                {% for i in tablemomd %}
                <tr>
                  <th style="font-weight:normal; padding-left:0px; padding-right:0px;">{{i.momdate|date:"d/m/y"}}</th>
                </tr>     
                {% endfor %}
              </table>
              <a class="button2" style="width:36%; padding-left:3%;" href="/mom_doneby_list">View All</a>
              <a class="button2" style="width:36%; padding-left:6%;" href="/create_mom_form">Create</a>
            </div>
          </div>
        </div>
      </div> -->

      <!-- <div class="col-xl-2 col-lg-6" id="mm">
        <div class="card shadow" style="height:100%;">
          <div class="card-header">
            <h6 class="font-weight-bold text-center text-black">
              Weekly Meeting
            </h6>
          </div>
          <div class="card-body" style="padding: 0.25rem;">
            <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="flamingo-tab">
              <p class="show-read-more">&#x25CF;<a href="" target="_blank">17-08-2022</a>
              </p>
              <p class="show-read-more readmore">&#x25CF;<a href="" target="_blank"> 16-08-2022</a>
              </p>
              <p class="show-read-more readmore">&#x25CF;<a href="" target="_blank"> 15-08-2022 </a>
              </p>
              <button class="button3">View All</button>
            </div>
          </div>
        </div>
      </div> -->

      
        <!-- end GUNJAN-MOM-CARD -->

      </div>
    </div>
    <br>
    <div class="modal fade right" id="momStatusModal" tabindex="-1" role="dialog" aria-labelledby="momStatusModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-full-width modal-dialog-scrollable" role="document">
          <div class="modal-content modal-content-full-width">
              <div class="modal-header modal-header-full-width">
                <h5 class="modal-title w-100 text-left"><label id="momStatusModalLabel"></label></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" style="text-align: left;">
                <!-- <center>
                  <input type="text" value="" width="80%" id="mom_title" class="form-control" readonly/>
                </center>
                <br> -->
                <table class="table table-light table-striped" id="momRemarksTable" style="width: 100%; ">
                  <thead style="white-space: nowrap; text-align: left; background-color: #343a40; color:white">
                    <th width=10%>Item No.</th>
                    <th width=20%>Marked To</th>
                    <th width=15%>Reply Date</th>
                    <th width=50%>Remarks</th>
                    <th width=5%;>Attachment</th>   
                  </thead>
                  <tbody>
                  </tbody>
              </table> 
              </div><!--  Modal Body -->
              <div class="modal-footer modal-footer-full-width">
                  <button type="button" class="btn btn-success" data-dismiss="modal" id="closereply">Close</button>
              </div><!-- Modal Footer-->
          </div>
      </div>
    </div>
  

    <!-- TABLE -Summary of Inspection (Unit Wise)  -->
    <div class="row-md-12">
      <div class="col-md-12 ">
        <div class="card shadow" id="table">
          <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
            <h5 class="font-weight-bold text-center text-black"> Summary of Inspection- Zone/PU/Unit (Nos/Paras)
              <br>
            </h5>
          </div>
          <div class="tscroll table-responsive  col-md-12 pl-0 pr-0" id="tbll1">
          
            <table class="table-bordered table-sm table-hover " style="width: 100%; padding:5px;" id="table1" cellspacing="0">
              <tbody>

                <tr class="font-weight-bold" style=" background-color:rgb(245, 194, 194) ">
                  <th id="poi" class="headcol" style=" vertical-align: center;">Railway</th>

                  {% for i in tablec %}
                  <td>{{i.type}}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <th id="fo" class="headcol" style=" vertical-align: super;">Total</th>
                  {% for i in tablec %}
                  {% if i.total == "0/0" %}
                  <td>{{i.total}}</td>
                  {% else %}
                  <td>
                    <a target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Insp&data3={{color}}&daterange={{daterange}}">{{i.ti}}</a>/<a
                      target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Item&data3={{color}}&daterange={{daterange}}">{{i.tj}}</a>
                  </td>
                  {% endif %}
                  {% endfor %}

                </tr>
                <tr>
                  <th id="fo" class="headcol" style=" vertical-align: super;">Pending</th>
                  {% for i in tablec %}
                  <!-- <td>{{i.pend}}</td> -->
                  {% if i.pend == "0/0" %}
                  <td>{{i.pend}}</td>
                  {% else %}
                  <td>
                    <a target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Insp&data3={{color}}&daterange={{daterange}}">{{i.pi}}</a>/<a
                      target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Item&data3={{color}}&daterange={{daterange}}">{{i.pj}}</a>
                  </td>
                  {% endif %}
                  {% endfor %}

                </tr>
                <tr hidden>
                  <th id="fo" class="headcol" style=" vertical-align: super;">Closed</th>
                  {% for i in tablec %}
                  <!-- <td>{{i.closed}}</td> -->
                  {% if i.closed == "0/0" %}
                  <td>{{i.closed}}</td>
                  {% else %}
                  <td><a target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Insp&data3={{color}}&daterange={{daterange}}">{{i.fi}}</a>/<a
                      target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Item&data3={{color}}&daterange={{daterange}}">{{i.fj}}</a>
                  </td>
                  {% endif %}
                  {% endfor %}
                </tr>

                <tr>
                  <th id="fo" class="headcol" style=" vertical-align: super;">% Compliance</th>
                  {% for i in tablec %}
                  <td>
                    {{i.pc_insp}}/{{i.pc_item}}
                  </td>

                  {% endfor %}
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br>
        <!-- TABLE - Summary OF Inspection - DRM -->
  <div class="row-md-12" id="btndrm">
    <div class="col-md-12 " style="padding:0;">
      <div class="card shadow" id="table25">
        <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
          {% if das_desig2 == 'DRM' %}
          <h5 class="font-weight-bold text-center text-black"> Summary of Inspection- DRM/Workshop (Nos/Paras)
            {% else %}
            <h5 class="font-weight-bold text-center text-black"> Summary of Inspection (Nos/Paras)
            {% endif %}
            <button class="btn btn-sm " id="stwise" style="background-color: #4FF549;">Station Wise</button>
            <button class="btn btn-sm " id="secwise" >Section Wise</button>
          <!-- <button class="btn btn-sm " id="rrwise" >Running Room Wise</button> -->
          <button class="btn btn-sm " id="rlywise" >Rly. Unit Wise</button> 
            <br>
          </h5>
        </div>
        <div class="tscroll table-responsive  col-md-12 pl-0 pr-0" id="tbll1">
          <table class="table-bordered table-sm table-hover " style="width: 100%;" id="table1" cellspacing="0">
            <tbody id="stationtable">
  
              <tr class="font-weight-bold" style=" background-color:rgb(244, 205, 205) ">
                <th id="poi" class="headcol" style=" vertical-align: center;">Unit</th>
  
                {% for i in tableu %}
                <td>{{i.type}}</td>
                {% endfor %}
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Total</th>
                {% for i in tableu %}
                {% if i.total == "0/0" %}
                <td>{{i.total}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Insp&data3={{color}}&data4=STM">{{i.ti}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Item&data3={{color}}&data4=STM">{{i.tj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Pending</th>
                {% for i in tableu %}
                <!-- <td>{{i.pend}}</td> -->
                {% if i.pend == "0/0" %}
                <td>{{i.pend}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Insp&data3={{color}}&data4=STM">{{i.pi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Item&data3={{color}}&data4=STM">{{i.pj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr hidden>
                <th id="fo" class="headcol" style=" vertical-align: super;">Closed</th>
                {% for i in tableu %}
                <!-- <td>{{i.closed}}</td> -->
                {% if i.closed == "0/0" %}
                <td>{{i.closed}}</td>
                {% else %}
                <td><a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Insp&data3={{color}}&data4=STM">{{i.fi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Item&data3={{color}}&data4=STM">{{i.fj}}</a>
                </td>
                {% endif %}
                {% endfor %}
              </tr>
  
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">% Compliance</th>
                {% for i in tableu %}
                <td>
                  {{i.pc_insp}}/{{i.pc_item}}
                </td>
  
                {% endfor %}
              </tr>
            </tbody>
            <tbody id="sectiontable">
  
              <tr class="font-weight-bold" style=" background-color:rgb(244, 205, 205) ">
                <th id="poi" class="headcol" style=" vertical-align: center;">Unit</th>
  
                {% for i in tablesec %}
                <td>{{i.type}}</td>
                {% endfor %}
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Total</th>
                {% for i in tablesec %}
                {% if i.total == "0/0" %}
                <td>{{i.total}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Insp&data3={{color}}&data4=SEM">{{i.ti}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Item&data3={{color}}&data4=SEM">{{i.tj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Pending</th>
                {% for i in tablesec %}
                <!-- <td>{{i.pend}}</td> -->
                {% if i.pend == "0/0" %}
                <td>{{i.pend}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Insp&data3={{color}}&data4=SEM">{{i.pi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Item&data3={{color}}&data4=SEM">{{i.pj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr hidden>
                <th id="fo" class="headcol" style=" vertical-align: super;">Closed</th>
                {% for i in tablesec %}
                <!-- <td>{{i.closed}}</td> -->
                {% if i.closed == "0/0" %}
                <td>{{i.closed}}</td>
                {% else %}
                <td><a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Insp&data3={{color}}&data4=SEM">{{i.fi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Item&data3={{color}}&data4=SEM">{{i.fj}}</a>
                </td>
                {% endif %}
                {% endfor %}
              </tr>
  
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">% Compliance</th>
                {% for i in tablesec %}
                <td>
                  {{i.pc_insp}}/{{i.pc_item}}
                </td>
  
                {% endfor %}
              </tr>
            </tbody>
            <tbody id="rrtable">
  
              <tr class="font-weight-bold" style=" background-color:rgb(244, 205, 205) ">
                <th id="poi" class="headcol" style=" vertical-align: center;">Unit</th>
  
                {% for i in tablerr %}
                <td>{{i.type}}</td>
                {% endfor %}
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Total</th>
                {% for i in tablerr %}
                {% if i.total == "0/0" %}
                <td>{{i.total}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Insp&data3={{color}}">{{i.ti}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Item&data3={{color}}">{{i.tj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Pending</th>
                {% for i in tablerr %}
                <!-- <td>{{i.pend}}</td> -->
                {% if i.pend == "0/0" %}
                <td>{{i.pend}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Insp&data3={{color}}">{{i.pi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Item&data3={{color}}">{{i.pj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr hidden>
                <th id="fo" class="headcol" style=" vertical-align: super;">Closed</th>
                {% for i in tablerr %}
                <!-- <td>{{i.closed}}</td> -->
                {% if i.closed == "0/0" %}
                <td>{{i.closed}}</td>
                {% else %}
                <td><a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Insp&data3={{color}}">{{i.fi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Item&data3={{color}}">{{i.fj}}</a>
                </td>
                {% endif %}
                {% endfor %}
              </tr>
  
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">% Compliance</th>
                {% for i in tablerr %}
                <td>
                  {{i.pc_insp}}/{{i.pc_item}}
                </td>
  
                {% endfor %}
              </tr>
            </tbody>
            <tbody id="rlytable">
  
              <tr class="font-weight-bold" style=" background-color:rgb(244, 205, 205) ">
                <th id="poi" class="headcol" style=" vertical-align: center;">Unit</th>
  
                {% for i in tablerly %}
                <td>{{i.type}}</td>
                {% endfor %}
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Total</th>
                {% for i in tablerly %}
                {% if i.total == "0/0" %}
                <td>{{i.total}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Insp&data3={{color}}">{{i.ti}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Item&data3={{color}}">{{i.tj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">Pending</th>
                {% for i in tablerly %}
                <!-- <td>{{i.pend}}</td> -->
                {% if i.pend == "0/0" %}
                <td>{{i.pend}}</td>
                {% else %}
                <td>
                  <a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Insp&data3={{color}}">{{i.pi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Item&data3={{color}}">{{i.pj}}</a>
                </td>
                {% endif %}
                {% endfor %}
  
              </tr>
              <tr hidden>
                <th id="fo" class="headcol" style=" vertical-align: super;">Closed</th>
                {% for i in tablerly %}
                <!-- <td>{{i.closed}}</td> -->
                {% if i.closed == "0/0" %}
                <td>{{i.closed}}</td>
                {% else %}
                <td><a target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Insp&data3={{color}}">{{i.fi}}</a>/<a
                    target="_blank"
                    href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Item&data3={{color}}">{{i.fj}}</a>
                </td>
                {% endif %}
                {% endfor %}
              </tr>
  
              <tr>
                <th id="fo" class="headcol" style=" vertical-align: super;">% Compliance</th>
                {% for i in tablerly %}
                <td>
                  {{i.pc_insp}}/{{i.pc_item}}
                </td>
  
                {% endfor %}
              </tr>
            </tbody>
          </table>
        </div>
      </div></div></div>
        <div class="card shadow" id="table23">
          <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
            <h6 class="font-weight-bold text-primary text-center"> Summary of Inspection- Division/Workshop/Unit (Nos/Paras)<br>
            </h6>
          </div>

          <div class="table-responsive  col-md-12 pl-0 pr-0" id="tbll3">
            <table class="table-bordered table-sm table-hover " style="width: 100%;" id="table1">
              <tbody>
                <tr style="background-color:rgb(218, 204, 204)">
                  <th id="poi" class="fixed-side" style=" vertical-align: center;">Div./W.S.</th>

                  {% for i in tablep %}
                  <td>{{i.type}}</td>
                  {% endfor %}
                </tr>
                <tr>
                  <th id="fo" class="fixed-side" style=" vertical-align: super;">Total</th>
                  {% for i in tablep %}
                  {% if i.total == "0/0" %}
                  <td>{{i.total}}</td>
                  {% else %}
                  <td>
                    <a target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Insp&data3={{color}}">{{i.ti}}</a>/<a
                      target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Total&data2=Item&data3={{color}}">{{i.tj}}</a>
                  </td>
                  {% endif %}
                  {% endfor %}

                </tr>
                <tr>
                  <th id="fo" class="fixed-side" style=" vertical-align: super;">Pending</th>
                  {% for i in tablep %}
                  {% if i.pend == "0/0" %}
                  <td>{{i.pend}}</td>
                  {% else %}
                  <td>
                    <a target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Insp&data3={{color}}">{{i.pi}}</a>/<a
                      target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Pending&data2=Item&data3={{color}}">{{i.pj}}</a>
                  </td>
                  {% endif %}
                  {% endfor %}

                </tr>
                <tr>
                  <th id="fo" class="fixed-side" style=" vertical-align: super;">Closed</th>
                  {% for i in tablep %}
                  {% if i.closed == "0/0" %}
                  <td>{{i.closed}}</td>
                  {% else %}
                  <td><a target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Insp&data3={{color}}">{{i.fi}}</a>/<a
                      target="_blank"
                      href="{% url 'dash_details' %}?data={{i.type}}&data1=Closed&data2=Item&data3={{color}}">{{i.fj}}</a>
                  </td>
                  {% endif %}
                  {% endfor %}
                </tr>
              </tbody>
            </table>
          </div>
        </div>



        <div class="row align-items-stretch justify-content-start card-deck">
          <div class="col-md-6 text-center" id="inspectiondiv1" style="display:none;">
            <div class="card cardnew1">
              <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
                <div class="row">
                  <div class="col-md-2">
                    <button data-toggle="sidebar-colapse" class="btn btn-info btn-md bg-info ">
                      <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-bars" id="collapse-icon" style="font-size:12%;margin-right:2%"></span>
                        <span class="menu-collapsed">Menu</span>
                      </div>
                    </button>
                  </div>
                  <div class="col">
                    <h6 class="font-weight-bold text-primary text-center">Inspection Done by me</h6>
                  </div>
                  <div class="col">
                    <div id="reportrange"
                      style="background: #fff; cursor: pointer; padding:5% 10%; border: 1% solid #ccc; width: 100%">
                      <i class="fa fa-calendar"></i>&nbsp;
                      <span id="ghj"></span> <i class="fa fa-caret-down"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="row" id="body-row">
                  <div class="col-md-2 temp bg-light"
                    style="padding-left:0;margin-left:0;margin-right:0;padding-right:0;" id="sidebar-container">
                    <div style="width:100%;padding:0;" class="temp bg-dark">
                      <!-- d-* hiddens the Sidebar in smaller devices. Its itens can be kept on the Navbar 'Menu'-->
                      <ul class="list-group" id="chan">
                        <button id="asd" class="bg-danger list-group-item list-group-item-action trial normal "
                          style="width:100%;">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-train" style="font-size:10%;margin-right:1%;"></span>
                            <span class="menu-collapsed"> Railway</span>
                          </div>
                        </button>
                        <button id="sdf" class="bg-success list-group-item list-group-item-action trial normal"
                          style="display:none ;">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-city" style="font-size:10%;margin-right:1%;"></span>
                            <span class="menu-collapsed"> Division</span>
                          </div>
                        </button>
                        <button id="dfg" class="bg-warning list-group-item list-group-item-action trial normal"
                          style="display:none ;">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-people-carry" style="font-size:10%;margin-right:2%;"></span>
                            <span class="menu-collapsed" style="font-size:14%"> Department</span>
                          </div>
                        </button>
                        <button id="fgh" class="bg-primary list-group-item list-group-item-action trial normal "
                          style="display:none ;">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-id-badge " style="font-size:10%;margin-right:1%;"></span>
                            <span class="menu-collapsed" style="font-size:14%"> Designation</span>
                          </div>
                        </button>
                      </ul>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6 text-center" id="inspectiondiv2" style="display:none;">
            <div class="card cardnew1">
              <div class="card-header" style="border-bottom:5px solid rgb(247, 203, 60)">
                <div class="row">
                  <div class="col-md-2">
                    <button data-toggle="sidebar-colapse2" class="btn btn-info btn-md bg-info">
                      <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-bars" id="collapse-icon2" style="font-size:12%;margin-right:2%"></span>
                        <span class="menu-collapsed2">Menu</span>
                      </div>
                    </button>
                  </div>
                  <div class="col">
                    <h6 class="font-weight-bold text-primary text-center">Items Marked to me</h6>
                  </div>
                  <div class="col">
                    <div id="reportrange"
                      style="background: #fff; cursor: pointer; padding: 5% 10%; border: 1% solid #ccc; width: 100%">
                      <i class="fa fa-calendar"></i>&nbsp;
                      <span></span> <i class="fa fa-caret-down"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="row" id="body-row2">
                  <div class="col-md-2 temp bg-dark"
                    style="padding-left:0;margin-left:0;margin-right:0;padding-right:0;" id="sidebar-container2">
                    <div style="width:100%;padding:0;" class="temp bg-dark">
                      <ul class="list-group" id="chan2">
                        <button id="asd2" onclick="myfunc2();"
                          class="bg-danger list-group-item list-group-item-action trial2 normal2">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-train" style="font-size:10%;margin-right:1%;"></span>
                            <span class="menu-collapsed2"> Railway</span>
                          </div>
                        </button>
                        <button id="sdf2" class="bg-success list-group-item list-group-item-action trial2 normal2">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-city" style="font-size:10%;margin-right:1%;"></span>
                            <span class="menu-collapsed2"> Division</span>
                          </div>
                        </button>
                        <button id="dfg2" class="bg-warning list-group-item list-group-item-action trial2 normal2">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-people-carry" style="font-size:10%;margin-right:2%;"></span>
                            <span class="menu-collapsed2" style="font-size:14%"> Department</span>
                          </div>
                        </button>
                        <button id="fgh2" class="bg-primary list-group-item list-group-item-action trial2 normal2 ">
                          <div class="d-flex w-100 justify-content-start align-items-center">
                            <span class="fa fa-id-badge " style="font-size:10%;margin-right:1%;"></span>
                            <span class="menu-collapsed2" style="font-size:14%"> Designation</span>
                          </div>
                        </button>
                      </ul>
                    </div>
                  </div>
                  <div class="col-md-12" id="tbll2">
                    <table class="table table-bordered" style="width:100%" id="table2">
                      <thead class="">
                        <th id="poi2" style=" vertical-align: super;">Type</th>
                        <th style=" vertical-align: super;">Total</th>
                        <th>Pending</th>
                        <th style=" vertical-align: super;">Closed</th>
                      </thead>
                      <tbody></tbody>
                    </table>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

</form>



<!-- Apeksha modal for DO Letters -->
<!-- <div class="modal fade " id="do_letters_modal_view" tabindex="-1" role="dialog" aria-labelledby="#ModalView"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-full-width  " role="document"> -->

<div class="modal right fade" id="do_letters_modal_view" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content modal-content-full-width ">
      <div class="modal-header modal-header-full-width ">
        <h3 style="font-family: 'Lato', sans-serif;" id="ModalView">
          <center><b><label id="setdodata"></label></b></center>
        </h3>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="container-fluid">
          <!-- <div class="row" style="width: 100%; background-color: grey; padding-left: 50%;">
            <center ><h4>D.O Letter  </h4></center>
          </div> -->
          <div class="row ">

            <div class="col-6" style="overflow: auto;">

              <!-- <table class="table table-striped  table-sm" id="do_letters_modal_table"
                style="width: 100%">
                <thead style="background-color: #343a40;white-space: nowrap; color:white;text-align: left;" id="do_letters_modal_table_head">
                  <th style="width: 3%;"> S.No.</th>
                  <th style="width: 8%;">D.O. Date</th>
                  <th style="width: 15%;">D.O. Letter No.</th>
                  <th style="width: 7%;">Marked To</th>
                  <th style="width: 7%;">Reply Status</th> -->
              <!-- <th style="width: 8%;">Reply Date</th>
                          <th style="width: 50%;">Remarks</th>
                          <th style="width: 2%;">Attachment</th>   -->
              <!-- </thead>
                <tbody> -->
              <!-- jinja2 Technique -->
              <!-- {% if letters %}  
                  {% for i in letters  %}
                    <tr>
                      <td style="width: 3%;"> {{forloop.counter}}</td>
                      <td style="width: 8%;">{{i.do_letter_date | date:'d-m-Y' }}</td>
                      <td style="width: 15%;"><a href="" onclick="open_do('{{i.id}}'); return false;"> {{i.do_letter_no}}</a></td>
                      <td style="width: 7%;">{{i.desig_id}}</td>
                      <td style="width: 7%;">{{i.status_flag}}</td>
                  </tr>
                  {% endfor %}
                  {% endif %} -->
              <!-- </tbody>
              </table> -->
              <div class="rectangle m-3" id="preiew_div">
                <iframe id="iframetest" style="width:550px; height:600px;" frameborder="0"></iframe>
              </div>
            </div>
            <!--end table div-->
            <div class="col-6">
              <!-- <div class="container-fluid mt-2">
                <div class="row" width="100%">
                  <h4 style="font-family: copperplate;">D.O. Letter Details</h4>
                  <div class="container-fluid" width="100%" style="background-color: rgb(209, 209, 209); padding: 2%;">
                    <div class="row">
                      <div class="col-4 mt-3">
                        <h5 style="font-family: copperplate;">D.O. Letter No : </h5>
                      </div>
                      <div class="col-6"><input type="text" value="" id="letter_no" readonly class="form-control" />
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-4 mt-3">
                        <h5 style="font-family: copperplate; ">D.O. Letter Date : </h5>
                      </div>
                      <div class="col-6"><input type="text" value="" id="letter_date" readonly class="form-control" />
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-4 mt-3">
                        <h5 style="font-family: copperplate; ">Subject: </h5>
                      </div>
                      <div class="col-6"><textarea value="" id="subject" readonly class="form-control"
                          width="100%"></textarea></div>
                    </div>
                    <div class="row">
                      <div class="col-4 mt-3">
                        <h5 style="font-family: copperplate; ">Copy To: </h5>
                      </div>
                      <div class="col-6"><textarea value="" id="copyto" readonly class="form-control"
                          width="100%"></textarea></div>
                    </div>
                  </div>

                </div>

              </div> -->
              <div class="row mt-3" width="100%">
                <div class="container">
                  <table class="table table-striped" id="modal_table">
                    <thead style="background-color: #343a40;white-space: nowrap; color:white;">

                      <th style="width: 20%;">Action By</th>
                      <th style="width: 15%;">Reply Date</th>
                      <th style="width: 40%;">Reply Rec'd(Yes/No)</th>
                      <th style="width: 20%;">Attachment</th>
                    </thead>
                    <tbody>

                    </tbody>
                  </table>
                  <iframe id="iframetest111" style="width:550px; height:600px;" frameborder="0"></iframe>
                </div>

              </div>
            </div>

          </div>

        </div>
      </div>
    </div>
  </div>
</div>
</div>
<a href="javascript:void(0)" data-toggle="modal" data-target="#loading-modal" id="loadingLink"></a>
<div id="loading-modal" class="modal fade" role="dialog" aria-labelledby="uploadModal1" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered">
    <div class="modal-content">
    <div class="modal-body" align="center">
    <img src="/static/images/loading_data1.gif" class="img img-responsive img-fluid" />
    <p style="font-size:12px;font-weight:600;margin-bottom:2px;margin-top:1rem;">Please wait, while we're processing your request..</p>
    </div>
    </div>
    </div>
    </div>

<!-- End here for DO Letters -->

<!-- Apeksha modal for upload window -->
<div class="modal fade" id="upload_modal" tabindex="-1" role="dialog" aria-labelledby="uploadModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Upload D.O. Letter</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col" style="background-color: white;">
            <form action="" method="POST" class="form-group" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="row ">

                <div class="col-md-4 " style="padding-top: 2%;">
                  <label for='do_letter_no' class="mr-sm-2">D.O. Letter No.</label><span
                    style="color:red;font-weight:bold">*</span>
                </div>

                <div class="col-md-8">
                  <input type='text' class="form-control mb-2 mr-sm-2" name="do_letter_no"
                    placeholder="Enter Letter No." required>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for='date' class="mr-sm-2">D.O. Letter Date</label><span
                    style="color:red;font-weight:bold">*</span>
                </div>
                <div class="col-md-8">


                  <input type="text" class="form-control mb-2 mr-sm-2" autocomplete="off" name="date"
                    style="background-color: #fff;" placeholder="Select Date" id="email" required readonly>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for='subject' class="mr-sm-2">Subject</label><span style="color:red;font-weight:bold">*</span>
                </div>
                <div class="col-md-8">
                  <textarea class="form-control mb-2 mr-sm-2" name="subject" placeholder="Enter Subject"
                    required></textarea>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for='action_by' class="mr-sm-2">Address To</label><span
                    style="color:red;font-weight:bold">*</span>
                </div>
                <div class="col-md-8">


                  <!-- <select id="desig" name="desig" placeholder="--Select--" required style="height: 35px; width:180px">
                            
                                <option value="" selected disabled hidden>--Select--</option>
                                  {% for i in officers %}
                                  <option value="{{i.designation}}">{{i.designation}}</option>
                                  {% endfor %}
                              </select>  -->
                  <div class="multi_select_box">
                    <input type="text" id="action_by_test" name="action_by_test" hidden>
                    <select id="action_by" name="action_by" class="form-control" style="width: 100%;"
                      placeholder="--Select Officers--" data-live-search="true" multiple data-actions-box="true"
                      multiple data-selected-text-format="count > 2" multiple>

                      {% for i in officers %}
                      <option style="width:20px" value="{{i.designation}}" data-tokens="{{i.designation}}">
                        {{i.designation}}</option>
                      {% endfor %}

                    </select>
                    <!-- <input type="button" id="desgnbtn${item}" value="Ok" onclick="getOption('desgn${item}')">
                                <input type="text" id="desgninp${item}" value="" hidden> -->

                  </div>

                </div>
              </div>
              <br>
              <div class="row">
                <div class="col-md-4">
                  <label for='action_by' class="mr-sm-2">Copy To</label>
                </div>
                <div class="col-md-8">
                  <div class="multi_select_box">
                    <input type="text" id="copy_to_test" name="copy_to_test" hidden>
                    <select id="copy_to" name="copy_to" class="form-control" style="width: 100%;"
                      placeholder="--Select Officers--" data-live-search="true" multiple data-actions-box="true"
                      multiple data-selected-text-format="count > 2" multiple>

                      {% for i in officers %}
                      <option style="width:20px" value="{{i.designation}}" data-tokens="{{i.designation}}">
                        {{i.designation}}</option>
                      {% endfor %}

                    </select>
                  </div>

                </div>
              </div>

              <div class="row mt-2">
                <div class="col-md-4">
                  <input type="text" name="savetype" value="upload" hidden>
                </div>
                <div class="form-group col-md-4">
                  <input type="radio" name="cat" value="upload" onclick="fun_check('single')" checked>
                  <label for="upload">Upload D.O.</label><br>
                </div>
                <div class="form-group col-md-4">
                  <input type="radio" name="cat" value="text" onclick="fun_check('radall')">
                  <label for="dotext">D.O. Text</label><br>
                </div>
              </div>
              <div class="row mt-2" id="radsingle">
                <div class="col-md-4">
                  <label for='do_pdf' class="mr-sm-2">Upload D.O. letter</label><span
                    style="color:red;font-weight:bold">*</span>
                </div>
                <div class="col-md-8">
                  <input name="do_file" type="file" accept="application/pdf" style="width: 100%;" id="do_file"
                    onchange="Filevalidation()" />
                  <p style="color: blue;">Accepted types: .pdf <br> File size should not exceed 200kB </p>
                </div>
              </div>
              <div class="row mt-2" id="radall">
                <!-- <div class="col-md-4" >
                            <label for ='do_text' class="mr-sm-2">DO Text</label><span style="color:red;font-weight:bold">*</span>
                        </div> -->
                <div class="col-md-12">
                  <textarea class="form-control mb-2 mr-sm-2" id="do_text" name="do_text" placeholder="Enter D.O. Text"
                    rows="5" maxlength="300" onkeyup="Filevalidation1(this.value)"></textarea>

                </div>
              </div>
              <div class="row">
                <div class="col-4"></div>
                <div class="col-4 mr-3">
                  <button type="submit" id="submit" class="btn btn-success" disabled
                    style=" width: 100%;">Submit</button>
                </div>
                <div class="col-4"></div>
              </div>
            </form>

          </div>
        </div>

      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div> -->
    </div>
  </div>
</div>
<!-- end here  -->

<!-- Apeksha modal for reply status modal window -->
<div class="modal left fade" id="replyStatus_modal" tabindex="-1" role="dialog" aria-labelledby="replyStatusModal"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle"><label id="dodetails"></label></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6">
              <table class="table table-light table-striped" name="replyStatus_table" id="replyStatus_table">
                <thead style="background-color: #343a40;white-space: nowrap; color:white;">
                  <tr>
                    <th style="width: 20%;">Marked Officers</th>
                    <th style="width: 70%;">Reply Rec'd(Yes/No)</th>
                    <th style="width: 10%;">Attachment</th>
                  </tr>
                </thead>
                <tbody>
                </tbody>
              </table>
              <a  style="float: right;" class="btn btn-primary" target="_blank" id="aiframetest11" >Open</a>
              <iframe id="iframetest11"  style="width:100%; height:600px;" frameborder="0" ></iframe>
            </div>
            <div class="col-md-6">
              <a style="float: right;" class="btn btn-primary" target="_blank" id="aiframetest1"><i
                  class="fas fa-arrow-right" aria-hidden="true"></i></a>
              <br>
              <iframe id="iframetest1" style="width:100%; height:800px;" frameborder="0"></iframe>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
<!-- end here  -->

<!-- End here for DO Letters -->

<!-- GUNJAN-MOM -->
<div class="modal fade right" id="MOM_Modal" tabindex="-1" role="dialog" aria-labelledby="MOM_ModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-full-width modal-dialog-scrollable" role="document">
    <div class="modal-content modal-content-full-width">
      <div class="modal-header modal-header-full-width">
        <h3 class="modal-title w-100 text-center" id="MOM_ModalLabel">Minutes Of Meeting Notes</h3><br>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="text-align: left;">
        <div class="row">
          <div id="preiew_mom_pdf">
            <iframe id="iframepreview" style="width:700px; height:700px;" frameborder="0"></iframe>
          </div>
        </div>
      </div><!--  Modal Body -->
      <div class="modal-footer modal-footer-full-width">
        <button type="button" class="btn btn-success" data-dismiss="modal" id="closereply">Close</button>
      </div><!-- Modal Footer-->
    </div>
  </div>
</div>


<span class="span-filter" onclick="openNav()"><i class="fa fa-cog fa-spin" style="font-size:16px"></i></span>
    <div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <ul class="list-group list-group-flush">  
  <li class="list-group-item misc-link-item" style="border:0px;"><a href="https://railmadad.indianrailways.gov.in/madad/final/home.jsp"><i class="fas fa-angle-right"></i>&nbsp;Rail Madad</a></li>
  <li class="list-group-item misc-link-item" style="border:0px;"><a href="https://morpr.cris.org.in/pat/login"><i class="fas fa-angle-right"></i>&nbsp;Parliament Reference</a></li>
  <li class="list-group-item misc-link-item"><a href="https://morpr.cris.org.in/pat/login"><i class="fas fa-angle-right"></i>&nbsp;VIP Reference</a></li>
  <li class="list-group-item misc-link-item"><a href="https://edrishti.indianrailways.gov.in/eDrishti/login.jsp"><i class="fas fa-angle-right"></i>&nbsp;e-Drishti</a></li>
  <li class="list-group-item misc-link-item"><a href="https://ircep.gov.in/IRPSM/"><i class="fas fa-angle-right"></i>&nbsp;IRPSM</a></li>
  <li class="list-group-item misc-link-item"><a href="https://eoffice.gov.in/"><i class="fas fa-angle-right"></i>&nbsp;e-Office</a></li>
  <li class="list-group-item misc-link-item"><a href="https://esamiksha.gov.in/"><i class="fas fa-angle-right"></i>&nbsp;e-Samiksha</a></li>
  <li class="list-group-item misc-link-item"><a href="https://parichay.nic.in//"><i class="fas fa-angle-right"></i>&nbsp;Parichay</a></li>

</ul>  
</div>
<!-- GUNJAN-MOM-END -->

<script type="text/javascript">


function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
}

/* Set the width of the side navigation to 0 */
function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}

var doissuedtable,doreceivedtable;


  $('#radsingle').show();
  $('#radall').hide();
  function fun_check(value) {
    document.getElementById('submit').disabled = true;
    if (value == 'single') {
      $('#do_text').val('');
      $('#radsingle').show();
      $('#radall').hide();

    }
    else {
      $('#do_file').val('');
      $('#radsingle').hide();
      $('#radall').show();
    }
  }
  function Filevalidation1(val) {
    if (val.length > 0)
      document.getElementById('submit').disabled = false;
    else
      document.getElementById('submit').disabled = true;
  }


  function setsummarydateclick(val) {

    document.getElementById('setsummarydatetest').value = '0';
  }
  function setsummarydate(val) {
    document.getElementById('summarydate').value = val;

    if (document.getElementById('setsummarydatetest').value == '0')
      document.getElementById('sum5').click();

  }


  $(function () {
        var das_desig2 = '{{das_desig2}}';

        if (das_desig2 === "GM") {
            // $('#cardr').hide();
            $('#table').hide();
            $('#myinsp3').hide();
            $('#zone').hide();
            $('#cti').hide();
            $('#bo').hide();
            $('#myinsp7').hide();
            $('#departmentwise').hide();

            $('#btndrm').hide();
            $('#myinsp6').show();
            $('#myinsp6b').hide();

            $('#domy').show();
            $('#dorecieved').show();
            $('#doslash').show();
            $('#otheruser').hide();
           
        }

        else if (das_desig2 === "PHOD") {
            // $('#cardr').hide();
            $('#table').hide();
            $('#myinsp3').hide();
            $('#zone').hide();
            $('#cti').hide();
            $('#bo').hide();
            $('#myinsp7').hide();
            $('#departmentwise').hide();
            $('#btndrm').hide();

            $('#myinsp6').hide();
            $('#domy').hide();
    $('#dorecieved').hide();
    $('#doslash').hide();

    $('#cardfdrm').hide();
    $('#otheruser').hide();
        }
        
        else if (das_desig2 === "CRB") {
            $('#mm').hide();
            $('#sendc').hide();
            $('#drm').hide();
            $('#bo').hide();
            $('#myinsp5').hide();
            $('#myinsp6').show();
            $('#myinsp7').show();
            $('#departmentwise').hide();
            $('#table23').hide();
            $('#myinsp4').hide();
            $('#phod').hide();
            $('#bo').hide();
            $('#departmentwise').hide();
            $('#btndrm').hide();
            $('#domy').hide();
            $('#dorecieved').hide();
            $('#doslash').hide();
            $('#cardfdrm').hide();
            $('#otheruser').hide();
        }

        else if (das_desig2 === "ED") {
            $('#mm').hide();
            $('#sendc').hide();
            $('#drm').hide();
            $('#bo').hide();
            $('#myinsp5').hide();
            $('#myinsp6').show();
            $('#myinsp7').show();
            $('#departmentwise').hide();
            $('#table23').hide();
            $('#myinsp4').hide();
            $('#phod').hide();
            $('#bo').hide();
            $('#departmentwise').hide();
            $('#btndrm').hide();
            $('#domy').hide();
            $('#dorecieved').hide();
            $('#doslash').hide();
            $('#cardfdrm').hide();
            $('#otheruser').hide();
        }
        else if (das_desig2 === "BM") {
            $('#mm').hide();
            $('#sendc').hide();
            $('#drm').hide();
            $('#bo').hide();
            $('#myinsp5').hide();
            $('#myinsp6').show();
            $('#myinsp7').show();
            $('#departmentwise').hide();
        


            $('#table23').hide();
            $('#myinsp4').hide();
            $('#phod').hide();
            $('#bo').hide();
            $('#departmentwise').hide();
            $('#btndrm').hide();
            $('domy').hide();
            $('dorecieved').hide();
            $('#doslash').hide();
            $('#cardfdrm').hide();
            $('#otheruser').hide();
        }
        else if (das_desig2 === "DRM") {
            // $('#cardr').hide();
            $('#table').hide();
            $('#myinsp3').hide();
            $('#zone').hide();
            $('#cti').hide();
            $('#drm').hide();
            $('#bo').show();
            $('#phod').hide();
            $('#table23').hide();
            $('#btndrm').show();
            $('#myinsp7').hide();
            $('#departmentwise').show();
            $('#myinsp6b').hide();

            $('#domy').show();
            $('#dorecieved').show();
            $('#doslash').show();

            $('#sectiontable').hide();
            $('#rrtable').hide();
            $('#rlytable').hide();

            $('#sectiontable').hide();
            $('#rrtable').hide();
            $('#rlytable').hide();
            $('#otheruser').hide();
            
        }
        else if (das_desig2 === "GM_PU") {
            $('#cardr').hide();
            $('#myinsp3').hide();
            $('#zone').hide();
            $('#cti').hide();
            $('#drm').hide();
            $('#table').hide();
            $('#departmentwise').hide();
            $('#shopwise').hide();
            $('#table23').hide();
            $('#myinsp7').hide();
            $('#bo').show();
            $('#phod').show();
            $('#cardf').show();
            $('#mm').show();
            $('#table24').show();
            $('#btndrm').hide();
            $('#myinsp6').hide();

            $('#cardfdrm').hide();
            $('#otheruser').hide();


        }

        else {
          $('#myinsp6b').hide();
            $('#mm').hide();
            $('#sendc').hide();
            $('#drm').hide();
            $('#bo').hide();
            $('#zone').hide();
            $('#phod').hide();
            $('#bo').hide();
            $('#departmentwise').hide();
            $('#table23').hide();
            $('#btndrm').show();
            $('#domy').hide();
    $('#dorecieved').hide();
    $('#doslash').hide();
    $('#cardfdrm').hide();
    $('#table').hide();
    $('#sectiontable').hide();
            $('#rrtable').hide();
            $('#rlytable').hide();

        }
    });
    </script>
<script>
  function docreatelink()
{
 
    document.getElementById('doissued1').style.color = '#007bff';
    document.getElementById('docreate1').style.color = 'red';
  }

  function doissuedlink()
  {
    document.getElementById('doissued1').style.color = 'red';
    document.getElementById('docreate1').style.color = '#007bff';
  }
  
  function clickdorecieved()
  {
    document.getElementById('dorecieved').style.color = 'red';
    document.getElementById('domy').style.color = '#007bff';
    document.getElementById('dorec1').style.color = 'red';
    $('#doissued').hide();
    $('#docreate').hide();
    $('#dorec').show();
    $('#dosend').show();

    $('#tableIDRECEIVEDdiv').show();
    $('#tableIDdiv').hide();

    // $('#tableID').DataTable();
    // $('#tableIDRECEIVED').DataTable();
    // doissuedtable.destroy();
    //  doreceivedtable.destroy();
    // if (doissuedtable instanceof $.fn.dataTable.Api)
    //    {
    //     doissuedtable.destroy();
    //    }
    //    if (doreceivedtable instanceof $.fn.dataTable.Api)
    //    {
    //     doreceivedtable.destroy();
    //    }
    // doreceivedtable =  $('#tableIDRECEIVED').DataTable({
    //   "iDisplayLength": 4,
    //   "pagingType": "simple",
    //   "sEmptyTable": 'No data available in table',
    //   "bSort": false,
    //   "oLanguage": {
    //     // "sInfo" : "Page _START_ to _END_ of _TOTAL_ entries",// text you want show for info section
    //     "sInfoEmpty": "Page 0 of 0 ",
    //   },

    //   "language": {
    //     "info": "Page _PAGE_ of _PAGES_",
    //     "paginate": {
    //       "previous": "Prev",
    //     },
    //   },



    // },
    // );
    // $('#tableIDRECEIVED_filter').hide();
    // $('#tableIDRECEIVED_length').hide();

  }


  function doreclink()
  {
    
    document.getElementById('dosend1').style.color = '#007bff';
    document.getElementById('dorec1').style.color = 'red';
  }

  function dosendlink()
  {
    document.getElementById('dosend1').style.color = 'red';
    document.getElementById('dorec1').style.color = '#007bff';
   
  }

  function clickdomy(){
    document.getElementById('dorecieved').style.color = '#007bff';
    document.getElementById('domy').style.color = 'red';
    $('#doissued').show();
    $('#docreate').show();
    $('#dorec').hide();
    $('#dosend').hide();
    $('#tableIDRECEIVEDdiv').hide();
    $('#tableIDdiv').show();
    // $('#tableID').DataTable();
    // $('#tableIDRECEIVED').DataTable();
    // doissuedtable.destroy();
    // doreceivedtable.destroy();
    // if (doissuedtable instanceof $.fn.dataTable.Api)
    //    {
    //     doissuedtable.destroy();
    //    }
    //    if (doreceivedtable instanceof $.fn.dataTable.Api)
    //    {
    //     doreceivedtable.destroy();
    //    }
    // doissuedtable =  $('#tableID').DataTable({
    //   "iDisplayLength": 4,
    //   "pagingType": "simple",
    //   "sEmptyTable": 'No data available in table',
    //   "bSort": false,
    //   "oLanguage": {
    //     // "sInfo" : "Page _START_ to _END_ of _TOTAL_ entries",// text you want show for info section
    //     "sInfoEmpty": "Page 0 of 0 ",
    //   },

    //   "language": {
    //     "info": "Page _PAGE_ of _PAGES_",
    //     "paginate": {
    //       "previous": "Prev",
    //     },
    //   },



    // },
    // );
    // $('#tableID_filter').hide();
    // $('#tableID_length').hide();

  }
 
 
  $('#secwise').click(function(e){
    // alert("denvjbv");
    e.preventDefault();
    document.getElementById('secwise').style.backgroundColor='#4FF549';
    // document.getElementById('rrwise').style.backgroundColor='#7AEDF3';
    document.getElementById('stwise').style.backgroundColor='#7AEDF3';
    document.getElementById('rlywise').style.backgroundColor='#7AEDF3';
    $('#stationtable').hide();
    $('#sectiontable').show();
    $('#rrtable').hide();
    $('#rlytable').hide();
  });
  // $('#rrwise').click(function(e){
  //   // alert("denvjbv");
  //   e.preventDefault();
  //   document.getElementById('rrwise').style.backgroundColor='#4FF549';
  //   document.getElementById('secwise').style.backgroundColor='#7AEDF3';
  //   document.getElementById('stwise').style.backgroundColor='#7AEDF3';
  //   document.getElementById('rlywise').style.backgroundColor='#7AEDF3';
  //   $('#sectiontable').hide();
  //   $('#stationtable').hide();
  //   $('#rrtable').show();
  //   $('#rlytable').hide();
  // });
  $('#stwise').click(function(e){
    // alert("denvjbv");
    e.preventDefault();
    document.getElementById('stwise').style.backgroundColor='#4FF549';
    // document.getElementById('rrwise').style.backgroundColor='#7AEDF3';
    document.getElementById('secwise').style.backgroundColor='#7AEDF3';
    document.getElementById('rlywise').style.backgroundColor='#7AEDF3';
    $('#stationtable').show();
    $('#sectiontable').hide();
    $('#rrtable').hide();
    $('#rlytable').hide();
  });
  $('#rlywise').click(function(e){
    // alert("denvjbv");
    e.preventDefault();
    document.getElementById('rlywise').style.backgroundColor='#4FF549';
    // document.getElementById('rrwise').style.backgroundColor='#7AEDF3';
    document.getElementById('secwise').style.backgroundColor='#7AEDF3';
    document.getElementById('stwise').style.backgroundColor='#7AEDF3';
    $('#stationtable').hide();
    $('#sectiontable').hide();
    $('#rrtable').hide();
    $('#rlytable').show();
  });

  function clickbo() {
    $('#myChart13non').hide();
    $('#myChart11non').show();
    document.getElementById('btnadrm').style.color = '#007bff';
    document.getElementById('btnbo').style.color = 'red';
    
  }

  function clickadrm(){
    $('#myChart11non').hide();
    $('#myChart13non').show();
    document.getElementById('btnbo').style.color = '#007bff';
    document.getElementById('btnadrm').style.color = 'red';
  }

  </script>

<script type="text/javascript">
  $(document).ready(function () {
    $('#tableID').DataTable({
      "iDisplayLength": 4,
      "pagingType": "simple",
      "sEmptyTable": 'No data available in table',
      "bSort": false,
      "oLanguage": {
        // "sInfo" : "Page _START_ to _END_ of _TOTAL_ entries",// text you want show for info section
        "sInfoEmpty": "Page 0 of 0 ",
      },

      "language": {
        "info": "Page _PAGE_ of _PAGES_",
        "paginate": {
          "previous": "Prev",
        },
      },



    },
    );
    $('#tableID_filter').hide();
    $('#tableID_length').hide();

    // $('#tableIDRECEIVED').DataTable({
    //   "iDisplayLength": 4,
    //   "pagingType": "simple",
    //   "sEmptyTable": 'No data available in table',
    //   "bSort": false,
    //   "oLanguage": {
    //     // "sInfo" : "Page _START_ to _END_ of _TOTAL_ entries",// text you want show for info section
    //     "sInfoEmpty": "Page 0 of 0 ",
    //   },

    //   "language": {
    //     "info": "Page _PAGE_ of _PAGES_",
    //     "paginate": {
    //       "previous": "Prev",
    //     },
    //   },



    // },
    // );
    // $('#tableIDRECEIVED_filter').hide();
    // $('#tableIDRECEIVED_length').hide();
   
   
    // $('#tableIDRECEIVED__info').hide();


    // document.getElementById("tableID_previous").style.padding = "0px 10px 0px 0px";
    // document.getElementById("tableID_previous").style.fontColor = "blue";
    // document.getElementById("tableID_next").style.padding = "0px 10px 0px 0px";
    // document.getElementsByClassName("paginate_button ").style.padding = "0px 0px 0px 0px";
    
    $('#tableIDRECEIVEDdiv').hide();

   doissuedtable = $('#tableID2').DataTable({
      "iDisplayLength": 4,
      "pagingType": "simple",
      "sEmptyTable": 'No data available in table',
      "bSort": false,
      "oLanguage": {
        // "sInfo" : "Page _START_ to _END_ of _TOTAL_ entries",// text you want show for info section
        "sInfoEmpty": "Page 0 of 0 ",
      },

      "language": {
        "info": "Page _PAGE_ of _PAGES_",
        "paginate": {
          "previous": "Prev",
        },
      },

    });
    $('#tableID2_filter').hide();
    $('#tableID2_length').hide();

    doreceivedtable =  $('#tableIDRECEIVED').DataTable({
      "iDisplayLength": 4,
      "pagingType": "simple",
      "sEmptyTable": 'No data available in table',
      "bSort": false,
      "oLanguage": {
        // "sInfo" : "Page _START_ to _END_ of _TOTAL_ entries",// text you want show for info section
        "sInfoEmpty": "Page 0 of 0 ",
      },

      "language": {
        "info": "Page _PAGE_ of _PAGES_",
        "paginate": {
          "previous": "Prev",
        },
      },



    },
    );
    $('#tableIDRECEIVED_filter').hide();
    $('#tableIDRECEIVED_length').hide();


  });

  $(function () {
    $('input[name="daterange"]').daterangepicker({
      opens: 'right',
      locale: {
        format: 'DD/MM/YY'
      }
    }, function (start, end, label) {
      console.log("A new date selection was made: " + start.format('YY-MM-DD') + ' to ' + end.format('YY-MM-DD'));
    });
  });

  function chartzone() {
    $("#myChart7").hide();
    $("#myChart71").hide();
    $("#myChart72").show();

    $("#myChart7non").hide();
    $("#myChart71non").hide();
    $("#myChart72non").show();
    document.getElementById('all').style.color = '#007bff';
    document.getElementById('zoneid').style.color = 'red';
    document.getElementById('rb').style.color = '#007bff';

  }
  function chartRB() {
    $("#myChart7").hide();
    $("#myChart72").hide();
    $("#myChart71").show();
    $("#myChart7non").hide();
    $("#myChart72non").hide();
    $("#myChart71non").show();
    document.getElementById('all').style.color = '#007bff';
    document.getElementById('rb').style.color = 'red';
    document.getElementById('zoneid').style.color = '#007bff';

  }
  function chartall() {
    $("#myChart71").hide();
    $("#myChart72").hide();
    $("#myChart7").show();
    $("#myChart71non").hide();
    $("#myChart72non").hide();
    $("#myChart7non").show();
    document.getElementById('all').style.color = 'red';
    document.getElementById('zoneid').style.color = '#007bff';
    document.getElementById('rb').style.color = '#007bff';
  }
  function chartPU() {
    $("#myChart8").hide();
    $("#myChart82").hide();
    $("#myChart83").hide();
    $("#myChart81").show();
    $("#myChart8non").hide();
    $("#myChart82non").hide();
    $("#myChart83non").hide();
    $("#myChart81non").show();
    document.getElementById('all1').style.color = '#007bff';
    document.getElementById('pu').style.color = 'red';
    document.getElementById('ctiid').style.color = '#007bff';
    document.getElementById('psu').style.color = '#007bff';
  }
  function chartCTI() {
    $("#myChart8").hide();
    $("#myChart81").hide();
    $("#myChart83").hide();
    $("#myChart82").show();
    $("#myChart8non").hide();
    $("#myChart81non").hide();
    $("#myChart83non").hide();
    $("#myChart82non").show();
    document.getElementById('all1').style.color = '#007bff';
    document.getElementById('ctiid').style.color = 'red';
    document.getElementById('pu').style.color = '#007bff';
    document.getElementById('psu').style.color = '#007bff';
  }
  function chartPSU() {
    $("#myChart8").hide();
    $("#myChart81").hide();
    $("#myChart82").hide();
    $("#myChart83").show();
    $("#myChart8non").hide();
    $("#myChart81non").hide();
    $("#myChart82non").hide();
    $("#myChart83non").show();
    document.getElementById('all1').style.color = '#007bff';
    document.getElementById('psu').style.color = 'red';
    document.getElementById('pu').style.color = '#007bff';
    document.getElementById('ctiid').style.color = '#007bff';
  }
  function chartall1() {
    $("#myChart82").hide();
    $("#myChart81").hide();
    $("#myChart83").hide();
    $("#myChart8").show();
    $("#myChart82non").hide();
    $("#myChart81non").hide();
    $("#myChart83non").hide();
    $("#myChart8non").show();
    document.getElementById('all1').style.color = 'red';
    document.getElementById('pu').style.color = '#007bff';
    document.getElementById('ctiid').style.color = '#007bff';
    document.getElementById('psu').style.color = '#007bff';
  }

  function showdiv1() {
    // document.getElementById('inspectiondiv').style.display="block";
    var x = document.getElementById("inspectiondiv1");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }

  function showdiv2() {
    // document.getElementById('inspectiondiv').style.display="block";
    var x = document.getElementById("inspectiondiv2");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }


  $(document).ready(function () {
    chartdata();
    $('#sidebar-container').hide();
    $('#sidebar-container2').hide();
    $('#myChart71').hide();
    $('#myChart72').hide();
    $('#all').addClass('active1')
    $('#all1').addClass('active1')
    $('#myChart81').hide();
    $('#myChart82').hide();
    $('#myChart83').hide();
    $('#tbll1').addClass('col-md-12');
    $('#tbll2').addClass('col-md-12');
    $('#myChart71non').hide();
    $('#myChart72non').hide();
    $('#myChart81non').hide();
    $('#myChart82non').hide();
    $('#myChart83non').hide();
    $('#btnbo').addClass('active1');
    $('#myChart13non').hide();
    $('#domy').addClass('active1')
    $('#doissued1').addClass('active1')
    $('#dosend').hide()
    $('#dorec').hide();
    tb1 = $('#table1').DataTable({
      pageLength: 5,
      lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
    })
    tb2 = $('#table2').DataTable({
      pageLength: 5,
      lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
    })
  });
  $('[data-toggle=sidebar-colapse]').click(function () {
    SidebarCollapse();

  });

  function SidebarCollapse() {
    if ($('#sidebar-container').hasClass('temp')) {
      $('#sidebar-container').show();

      $('#tbll1').removeClass('col-md-12');
      $('#tbll1').addClass('col-md-10');
      $('#sidebar-container').removeClass('temp');
    }
    else {
      $('#sidebar-container').hide();
      $('#sidebar-container').addClass('temp');
      $('#tbll1').removeClass('col-md-10');
      $('#tbll1').addClass('col-md-12');

    }
  }

  // Collapse/Expand icon
  //  $('#collapse-icon').toggleClass('fa-angle-double-left fa-angle-double-right');

  $('[data-toggle=sidebar-colapse2]').click(function () {
    SidebarCollapse2();
  });

  function SidebarCollapse2() {
    if ($('#sidebar-container2').hasClass('temp')) {
      $('#sidebar-container2').show();
      $('#tbll2').removeClass('col-md-12');
      $('#tbll2').addClass('col-md-10');
      $('#sidebar-container2').removeClass('temp');
    }
    else {
      $('#sidebar-container2').hide();
      $('#sidebar-container2').addClass('temp');
      $('#tbll2').removeClass('col-md-10');
      $('#tbll2').addClass('col-md-12');

    }


    // Collapse/Expand icon
    //  $('#collapse-icon').toggleClass('fa-angle-double-left fa-angle-double-right');
  }

  let month = "";
  var xValues = ["jan", "Feb", "Mar", "apr", "may", "june"];
  var yValues = [50, 49, 44, 24, 15, 8];
  var barColors = ["red", "green", "blue", "orange", "brown", "pink"];
  var up = 0, down = 0;
  function chartdata(str) {
    if (str == 'D') down += 1;
    if (str == 'U') up += 1;
    console.log(month);
    var mydata = { 'up': up, 'down': down, 'month': month };
    down = 0; up = 0;
    $.ajax({
      method: "GET",
      url: "{%url 'chartdata'%}",
      data: mydata,
      success: function (response) {
        var label = new Array()
        var target = new Array()
        var target2 = new Array()
        for (var i = 0; i < response.mon.length; i++) {
          label.push(response.mon[i]);
          target.push(response.count[i]);
          target2.push(response.count1[i]);
        }
        month = response.mon[0];
        var c1 = document.getElementById("myChart");
        var ctx1 = c1.getContext('2d');
        c1.height = 300;
        var myChart = new Chart(ctx1, {
          type: "bar",
          data: {
            labels: label,
            datasets: [{
              label: "Drafted",
              backgroundColor: "red",
              data: target
            }, {
              label: "Final",
              backgroundColor: "green",
              data: target2
            },
            ]
          },
          options: {
            legend: { display: false },
            title: {
              display: false,
              text: "Inspection Report Generated in 2022"
            },
            plugins: {
              datalabels: {
                display: false,
              },
            }
          }
        });

      }
    })
  }

  function piedata() {
    $.ajax({
      method: "GET",
      url: "{%url 'piedata'%}",
      success: function (response) {
        var label = new Array()
        var target = new Array()
        var target2 = new Array()
        var sum2 = response.closed + response.partial + response.pending;
        var sum3 = response.closed2 + response.partial2 + response.pending2;
        target.push(response.closed)
        target.push(response.partial)
        target.push(response.pending)
        target2.push(response.closed2)
        target2.push(response.partial2)
        target2.push(response.pending2)
        label.push("Closed")
        label.push("Partial Compliances")
        label.push("Pending Compliances")
        let i = 0;

        var data = [{
          data: target,
          backgroundColor: [
            "#4b77a9",
            "#5f255f",
            "#d21243"
          ],
          borderColor: "#fff"
        }];

        var options = {
          tooltips: {
            enabled: true,
          },
          legend: {
            position: 'bottom',
            fontColor: "#000",
            display: false,
            labels: {
              boxWidth: 15,
              boxHeight: 2,
              fontColor: "black",
              fontStyle: 'bold',
            }
          },
          plugins: {
            datalabels: {
              formatter: (value, ctx1) => {

                let sum = sum2;
                let percentage = (value * 100 / sum).toFixed(1) + "%";
                if (percentage == "0.0%") { return ""; }
                else { return percentage; }
              },
              color: '#fff',
            },


          }
        };


        var ctx2 = document.getElementById("myChart1").getContext('2d');
        var chart = new Chart(ctx2, {
          type: 'pie',
          data: {
            labels: label,
            datasets: data
          },
          options: options
        });
        var myLegendContainer = document.getElementById("legend");
        // generate HTML legend
        myLegendContainer.innerHTML = chart.generateLegend();
        // bind onClick event to all LI-tags of the legend
        var legendItems = myLegendContainer.getElementsByTagName('li');




        var data2 = [{
          data: target2,
          backgroundColor: [
            "#4b77a9",
            "#5f255f",
            "#d21243"
          ],
          borderColor: "#fff"
        }];

        var options2 = {
          tooltips: {
            enabled: true
          },
          legend: {
            position: 'bottom',
            fontColor: "#000",
            display: false,
            labels: {
              boxWidth: 15,
              boxHeight: 2,
              fontColor: "black",
              fontStyle: 'bold',
            }
          },
          plugins: {
            datalabels: {
              formatter: (value, ctx2) => {

                let sum = sum3;
                let percentage = (value * 100 / sum).toFixed(1) + "%";
                if (percentage == "0.0%") { return ""; }
                else { return percentage; }
              },
              color: '#fff',
            }
          }
        };


        var ctx2 = document.getElementById("myChart4").getContext('2d');
        var myChart2 = new Chart(ctx2, {
          type: 'pie',
          data: {
            labels: label,
            datasets: data2
          },
          options: options2
        });


      }
    })
  }



  var xValues = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000];

  new Chart("myChart2", {
    type: "line",
    data: {
      labels: xValues,
      datasets: [{
        data: [860, 1140, 1060, 1060, 1070, 1110, 1330, 2210, 7830, 2478],
        borderColor: "red",
        fill: false
      }, {
        data: [1600, 1700, 1700, 1900, 2000, 2700, 4000, 5000, 6000, 7000],
        borderColor: "green",
        fill: false
      }, {
        data: [300, 700, 2000, 5000, 6000, 4000, 2000, 1000, 200, 100],
        borderColor: "blue",
        fill: false
      }]
    },
    options: {
      legend: { display: false }
    }
  });
  var tb1;
  let sd = "", ed = "";
  $(function () {

    var start = moment().subtract(29, 'days');
    var end = moment();
    sd = start.format('YYYY-MM-DD');
    ed = end.format('YYYY-MM-DD');
    function cb(start, end) {
      $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
      sd = start.format('YYYY-MM-DD');
      ed = end.format('YYYY-MM-DD');
      myfunc();
    }

    $('#reportrange').daterangepicker({
      startDate: start,
      endDate: end,
      ranges: {
        'Today': [moment(), moment()],
        'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
        'Last 7 Days': [moment().subtract(6, 'days'), moment()],
        'Last 30 Days': [moment().subtract(29, 'days'), moment()],
        'This Month': [moment().startOf('month'), moment().endOf('month')],
        'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
      }
    }, cb);


    cb(start, end);

  });
  let sd2 = "", ed2 = "";
  $(function () {

    var start = moment().subtract(29, 'days');
    var end = moment();
    sd2 = start.format('YYYY-MM-DD');
    ed2 = end.format('YYYY-MM-DD');
    function cb2(start, end) {
      $('#reportrange2 span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
      sd2 = start.format('YYYY-MM-DD');
      ed2 = end.format('YYYY-MM-DD');
      myfunc2();
    }

    $('#reportrange2').daterangepicker({
      startDate: start,
      endDate: end,
      ranges: {
        'Today': [moment(), moment()],
        'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
        'Last 7 Days': [moment().subtract(6, 'days'), moment()],
        'Last 30 Days': [moment().subtract(29, 'days'), moment()],
        'This Month': [moment().startOf('month'), moment().endOf('month')],
        'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
      }
    }, cb2);


    cb2(start, end);

  });


  function myfunc() {
    tb1 = $('#table1').DataTable()
    tb1.destroy();
    mydata = { sd: sd, ed: ed };
    $.ajax({
      method: "GET",
      url: "{%url 'get_data'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi').html("Railway");
        for (var i = 0; i < response.list1.length; i++) {
          if (response.list1[i].count == 0) {
            html += '<tr><td >' + response.list1[i].loc + '</td><td >' + response.list1[i].count + '</td><td >' + response.list1[i].c3 + '</td><td >' + response.list1[i].c2 + '</td><td >' + response.list1[i].c1 + '</td></tr>';
          }
          else {
            if (response.list1[i].c1 > 0 && response.list1[i].c2 > 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a></td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</a></td></tr>'; }

            else if (response.list1[i].c1 > 0 && response.list1[i].c2 > 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a> </td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</a></td></tr>'; }

            else if (response.list1[i].c1 > 0 && response.list1[i].c2 == 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</td><td >' + response.list1[i].c2 + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</a></td></tr>'; }

            else if (response.list1[i].c1 == 0 && response.list1[i].c2 > 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a></td><td >' + response.list1[i].c1 + '</td></tr>'; }

            else if (response.list1[i].c1 == 0 && response.list1[i].c2 > 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a></td><td >' + response.list1[i].c1 + '</td></tr>'; }

            else if (response.list1[i].c1 == 0 && response.list1[i].c2 == 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td >' + response.list1[i].c2 + '</td><td >' + response.list1[i].c1 + '</td></tr>'; }

            else if (response.list1[i].c1 > 0 && response.list1[i].c2 == 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td >' + response.list1[i].c2 + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</td></tr>'; }
            else if (response.list1[i].c1 == 0 && response.list1[i].c2 == 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</a></td><td >' + response.list1[i].c2 + '</a></td><td >' + response.list1[i].c1 + '</a></td></tr>'; }

          }
        }

        $('#tbody1').html(html);
        tb1 = $('#table1').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  }


  $('#sdf').click(function () {
    tb1 = $('#table1').DataTable()
    tb1.destroy();
    mydata = { sd: sd, ed: ed };
    $.ajax({
      method: "GET",
      url: "{%url 'get_data'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi').html("Division");
        for (var i = 0; i < response.list2.length; i++) {
          if (response.list2[i].count == 0) {
            html += '<tr><td >' + response.list2[i].loc + '</td><td >' + response.list2[i].count + '</td><td >' + response.list2[i].c3 + '</td><td >' + response.list2[i].c2 + '</td><td >' + response.list2[i].c1 + '</td></tr>';
          }
          else {
            if (response.list2[i].c1 > 0 && response.list2[i].c2 > 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td ><a href="/new_page?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a></td><td ><a href="/new_page?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</a></td></tr>'; }
            else if (response.list2[i].c1 > 0 && response.list2[i].c2 > 0 && response.list2[i].c3 == 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td >' + response.list2[i].c3 + '</td><td ><a href="/new_page?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a> </td><td ><a href="/new_page?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</a></td></tr>'; }
            else if (response.list2[i].c1 > 0 && response.list2[i].c2 == 0 && response.list2[i].c3 == 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td >' + response.list2[i].c3 + '</td><td >' + response.list2[i].c2 + '</td><td ><a href="/new_page?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</a></td></tr>'; }
            else if (response.list2[i].c1 == 0 && response.list2[i].c2 > 0 && response.list2[i].c3 == 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td >' + response.list2[i].c3 + '</td><td ><a href="/new_page?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a></td><td >' + response.list2[i].c1 + '</td></tr>'; }
            else if (response.list2[i].c1 == 0 && response.list2[i].c2 > 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td ><a href="/new_page?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a></td><td >' + response.list2[i].c1 + '</td></tr>'; }
            else if (response.list2[i].c1 == 0 && response.list2[i].c2 == 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td >' + response.list2[i].c2 + '</td><td >' + response.list2[i].c1 + '</td></tr>'; }
            else if (response.list2[i].c1 > 0 && response.list2[i].c2 == 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td >' + response.list2[i].c2 + '</td><td ><a href="/new_page?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</td></tr>'; }
            else if (response.list1[i].c1 == 0 && response.list1[i].c2 == 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</a></td><td >' + response.list1[i].c2 + '</a></td><td >' + response.list1[i].c1 + '</a></td></tr>'; }

          }
        }
        $('#tbody1').html(html);
        tb1 = $('#table1').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  })
  $('#dfg').click(function () {
    mydata = { sd: sd, ed: ed };
    tb1 = $('#table1').DataTable()
    tb1.destroy();
    $.ajax({
      method: "GET",
      url: "{%url 'get_data'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi').html("Department");
        for (var i = 0; i < response.list3.length; i++) {
          if (response.list3[i].count == 0) {
            html += '<tr><td >' + response.list3[i].loc + '</td><td >' + response.list3[i].count + '</td><td >' + response.list3[i].c3 + '</td><td >' + response.list3[i].c2 + '</td><td >' + response.list3[i].c1 + '</td></tr>';
          }
          else {
            if (response.list3[i].c1 > 0 && response.list3[i].c2 > 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td ><a href="/new_page?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a></td><td ><a href="/new_page?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</a></td></tr>'; }
            else if (response.list3[i].c1 > 0 && response.list3[i].c2 > 0 && response.list3[i].c3 == 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td >' + response.list3[i].c3 + '</td><td ><a href="/new_page?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a> </td><td ><a href="/new_page?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</a></td></tr>'; }
            else if (response.list3[i].c1 > 0 && response.list3[i].c2 == 0 && response.list3[i].c3 == 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td >' + response.list3[i].c3 + '</td><td >' + response.list3[i].c2 + '</td><td ><a href="/new_page?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</a></td></tr>'; }
            else if (response.list3[i].c1 == 0 && response.list3[i].c2 > 0 && response.list3[i].c3 == 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td >' + response.list3[i].c3 + '</td><td ><a href="/new_page?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a></td><td >' + response.list3[i].c1 + '</td></tr>'; }
            else if (response.list3[i].c1 == 0 && response.list3[i].c2 > 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td ><a href="/new_page?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a></td><td >' + response.list3[i].c1 + '</td></tr>'; }
            else if (response.list3[i].c1 == 0 && response.list3[i].c2 == 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td >' + response.list3[i].c2 + '</td><td >' + response.list3[i].c1 + '</td></tr>'; }
            else if (response.list3[i].c1 > 0 && response.list3[i].c2 == 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td >' + response.list3[i].c2 + '</td><td ><a href="/new_page?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</td></tr>'; }
          }
        }
        $('#tbody1').html(html);
        tb1 = $('#table1').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  })
  $('#fgh').click(function () {
    tb1 = $('#table1').DataTable()
    tb1.destroy();
    mydata = { sd: sd, ed: ed };
    $.ajax({
      method: "GET",
      url: "{%url 'get_data'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi').html("Designation");
        for (var i = 0; i < response.list4.length; i++) {
          if (response.list4[i].count == 0) {
            html += '<tr><td >' + response.list4[i].loc + '</td><td >' + response.list4[i].count + '</td><td >' + response.list4[i].c3 + '</td><td >' + response.list4[i].c2 + '</td><td >' + response.list4[i].c1 + '</td></tr>';
          }
          else {
            if (response.list4[i].c1 > 0 && response.list4[i].c2 > 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td ><a href="/new_page?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a></td><td ><a href="/new_page?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</a></td></tr>'; }
            else if (response.list4[i].c1 > 0 && response.list4[i].c2 > 0 && response.list4[i].c3 == 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td >' + response.list4[i].c3 + '</td><td ><a href="/new_page?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a> </td><td ><a href="/new_page?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</a></td></tr>'; }
            else if (response.list4[i].c1 > 0 && response.list4[i].c2 == 0 && response.list4[i].c3 == 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td >' + response.list4[i].c3 + '</td><td >' + response.list4[i].c2 + '</td><td ><a href="/new_page?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</a></td></tr>'; }
            else if (response.list4[i].c1 == 0 && response.list4[i].c2 > 0 && response.list4[i].c3 == 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td >' + response.list4[i].c3 + '</td><td ><a href="/new_page?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a></td><td >' + response.list4[i].c1 + '</td></tr>'; }
            else if (response.list4[i].c1 == 0 && response.list4[i].c2 > 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td ><a href="/new_page?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a></td><td >' + response.list4[i].c1 + '</td></tr>'; }
            else if (response.list4[i].c1 == 0 && response.list4[i].c2 == 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td >' + response.list4[i].c2 + '</td><td >' + response.list4[i].c1 + '</td></tr>'; }
            else if (response.list4[i].c1 > 0 && response.list4[i].c2 == 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td >' + response.list4[i].c2 + '</td><td ><a href="/new_page?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd + '&ed=' + ed + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</td></tr>'; }

          }
        }
        $('#tbody1').html(html);
        tb1 = $('#table1').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  })
  var tb2;
  function myfunc2() {
    tb2 = $('#table2').DataTable()
    tb2.destroy();
    mydata = { sd2: sd2, ed2: ed2 };
    $.ajax({
      method: "GET",
      url: "{%url 'get_data2'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi2').html("Railway");
        for (var i = 0; i < response.list1.length; i++) {
          if (response.list1[i].count == 0) {
            html += '<tr><td >' + response.list1[i].loc + '</td><td >' + response.list1[i].count + '</td><td >' + response.list1[i].c3 + '</td><td >' + response.list1[i].c2 + '</td><td >' + response.list1[i].c1 + '</td></tr>';
          }
          else {
            if (response.list1[i].c1 > 0 && response.list1[i].c2 > 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a></td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</a></td></tr>'; }

            else if (response.list1[i].c1 > 0 && response.list1[i].c2 > 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a> </td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</a></td></tr>'; }

            else if (response.list1[i].c1 > 0 && response.list1[i].c2 == 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</td><td >' + response.list1[i].c2 + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</a></td></tr>'; }

            else if (response.list1[i].c1 == 0 && response.list1[i].c2 > 0 && response.list1[i].c3 == 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td >' + response.list1[i].c3 + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a></td><td >' + response.list1[i].c1 + '</td></tr>'; }

            else if (response.list1[i].c1 == 0 && response.list1[i].c2 > 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=2&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c2 + '</a></td><td >' + response.list1[i].c1 + '</td></tr>'; }

            else if (response.list1[i].c1 == 0 && response.list1[i].c2 == 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td >' + response.list1[i].c2 + '</td><td >' + response.list1[i].c1 + '</td></tr>'; }

            else if (response.list1[i].c1 > 0 && response.list1[i].c2 == 0 && response.list1[i].c3 > 0) { html += '<tr><td >' + response.list1[i].loc + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=0&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].count + '</a></td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=1&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c3 + '</a></td><td >' + response.list1[i].c2 + '</td><td ><a href="/new_page2?railway=' + response.list1[i].id + '&status=3&div=false&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list1[i].c1 + '</td></tr>'; }
          }
        }

        $('#tbody2').html(html);
        tb2 = $('#table2').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  }


  $('#sdf2').click(function () {
    tb2 = $('#table2').DataTable()
    tb2.destroy();
    mydata = { sd2: sd2, ed2: ed2 };
    $.ajax({
      method: "GET",
      url: "{%url 'get_data2'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi2').html("Division");
        for (var i = 0; i < response.list2.length; i++) {
          if (response.list2[i].count == 0) {
            html += '<tr><td >' + response.list2[i].loc + '</td><td >' + response.list2[i].count + '</td><td >' + response.list2[i].c3 + '</td><td >' + response.list2[i].c2 + '</td><td >' + response.list2[i].c1 + '</td></tr>';
          }
          else {
            if (response.list2[i].c1 > 0 && response.list2[i].c2 > 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td ><a href="/new_page2?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a></td><td ><a href="/new_page2?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</a></td></tr>'; }
            else if (response.list2[i].c1 > 0 && response.list2[i].c2 > 0 && response.list2[i].c3 == 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td >' + response.list2[i].c3 + '</td><td ><a href="/new_page2?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a> </td><td ><a href="/new_page2?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</a></td></tr>'; }
            else if (response.list2[i].c1 > 0 && response.list2[i].c2 == 0 && response.list2[i].c3 == 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td >' + response.list2[i].c3 + '</td><td >' + response.list2[i].c2 + '</td><td ><a href="/new_page2?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</a></td></tr>'; }
            else if (response.list2[i].c1 == 0 && response.list2[i].c2 > 0 && response.list2[i].c3 == 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td >' + response.list2[i].c3 + '</td><td ><a href="/new_page2?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a></td><td >' + response.list2[i].c1 + '</td></tr>'; }
            else if (response.list2[i].c1 == 0 && response.list2[i].c2 > 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td ><a href="/new_page2?railway=false&status=2&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c2 + '</a></td><td >' + response.list2[i].c1 + '</td></tr>'; }
            else if (response.list2[i].c1 == 0 && response.list2[i].c2 == 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td >' + response.list2[i].c2 + '</td><td >' + response.list2[i].c1 + '</td></tr>'; }
            else if (response.list2[i].c1 > 0 && response.list2[i].c2 == 0 && response.list2[i].c3 > 0) { html += '<tr><td >' + response.list2[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c3 + '</a></td><td >' + response.list2[i].c2 + '</td><td ><a href="/new_page2?railway=false&status=3&div=' + response.list2[i].id + '&dept=false&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list2[i].c1 + '</td></tr>'; }
          }
        }
        $('#tbody2').html(html);
        tb2 = $('#table2').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  })

  $('#dfg2').click(function () {
    mydata = { sd2: sd2, ed2: ed2 };
    tb2 = $('#table2').DataTable()
    tb2.destroy();
    $.ajax({
      method: "GET",
      url: "{%url 'get_data2'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi2').html("Department");
        for (var i = 0; i < response.list3.length; i++) {
          if (response.list3[i].count == 0) {
            html += '<tr><td >' + response.list3[i].loc + '</td><td >' + response.list3[i].count + '</td><td >' + response.list3[i].c3 + '</td><td >' + response.list3[i].c2 + '</td><td >' + response.list3[i].c1 + '</td></tr>';
          }
          else {
            if (response.list3[i].c1 > 0 && response.list3[i].c2 > 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a></td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</a></td></tr>'; }
            else if (response.list3[i].c1 > 0 && response.list3[i].c2 > 0 && response.list3[i].c3 == 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td >' + response.list3[i].c3 + '</td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a> </td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</a></td></tr>'; }
            else if (response.list3[i].c1 > 0 && response.list3[i].c2 == 0 && response.list3[i].c3 == 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td >' + response.list3[i].c3 + '</td><td >' + response.list3[i].c2 + '</td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</a></td></tr>'; }
            else if (response.list3[i].c1 == 0 && response.list3[i].c2 > 0 && response.list3[i].c3 == 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td >' + response.list3[i].c3 + '</td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a></td><td >' + response.list3[i].c1 + '</td></tr>'; }
            else if (response.list3[i].c1 == 0 && response.list3[i].c2 > 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c2 + '</a></td><td >' + response.list3[i].c1 + '</td></tr>'; }
            else if (response.list3[i].c1 == 0 && response.list3[i].c2 == 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td >' + response.list3[i].c2 + '</td><td >' + response.list3[i].c1 + '</td></tr>'; }
            else if (response.list3[i].c1 > 0 && response.list3[i].c2 == 0 && response.list3[i].c3 > 0) { html += '<tr><td >' + response.list3[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c3 + '</a></td><td >' + response.list3[i].c2 + '</td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=' + response.list3[i].loc + '&desig=false&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list3[i].c1 + '</td></tr>'; }
          }
        }
        $('#tbody2').html(html);
        tb2 = $('#table2').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  })



  $('#fgh2').click(function () {
    tb2 = $('#table2').DataTable()
    tb2.destroy();
    mydata = { sd2: sd2, ed2: ed2 };
    $.ajax({
      method: "GET",
      url: "{%url 'get_data2'%}",
      data: mydata,
      success: function (response) {
        var html = "";
        $('#poi2').html("Designation");
        for (var i = 0; i < response.list4.length; i++) {
          if (response.list4[i].count == 0) {
            html += '<tr><td >' + response.list4[i].loc + '</td><td >' + response.list4[i].count + '</td><td >' + response.list4[i].c3 + '</td><td >' + response.list4[i].c2 + '</td><td >' + response.list4[i].c1 + '</td></tr>';
          }
          else {
            if (response.list4[i].c1 > 0 && response.list4[i].c2 > 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a></td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</a></td></tr>'; }
            else if (response.list4[i].c1 > 0 && response.list4[i].c2 > 0 && response.list4[i].c3 == 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td >' + response.list4[i].c3 + '</td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a> </td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</a></td></tr>'; }
            else if (response.list4[i].c1 > 0 && response.list4[i].c2 == 0 && response.list4[i].c3 == 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td >' + response.list4[i].c3 + '</td><td >' + response.list4[i].c2 + '</td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</a></td></tr>'; }
            else if (response.list4[i].c1 == 0 && response.list4[i].c2 > 0 && response.list4[i].c3 == 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td >' + response.list4[i].c3 + '</td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a></td><td >' + response.list4[i].c1 + '</td></tr>'; }
            else if (response.list4[i].c1 == 0 && response.list4[i].c2 > 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td ><a href="/new_page2?railway=false&status=2&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c2 + '</a></td><td >' + response.list4[i].c1 + '</td></tr>'; }
            else if (response.list4[i].c1 == 0 && response.list4[i].c2 == 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td >' + response.list4[i].c2 + '</td><td >' + response.list4[i].c1 + '</td></tr>'; }
            else if (response.list4[i].c1 > 0 && response.list4[i].c2 == 0 && response.list4[i].c3 > 0) { html += '<tr><td >' + response.list4[i].loc + '</td><td ><a href="/new_page2?railway=false&status=0&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].count + '</a></td><td ><a href="/new_page2?railway=false&status=1&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c3 + '</a></td><td >' + response.list4[i].c2 + '</td><td ><a href="/new_page2?railway=false&status=3&div=false&dept=false&desig=' + response.list4[i].loc + '&sd=' + sd2 + '&ed=' + ed2 + '" target="_blank" rel="noopener noreferrer">' + response.list4[i].c1 + '</td></tr>'; }

          }
        }
        $('#tbody2').html(html);
        tb2 = $('#table2').DataTable({
          pageLength: 5,
          lengthMenu: [[5, 10, 20, -1], [5, 10, 20, 50]]
        })
      }
    })
  })
  var header = document.getElementById("chan");
  var btns = header.getElementsByClassName("trial");
  for (var i = 0; i < btns.length; i++) {
    btns[i].addEventListener("click", function () {
      var current = document.getElementsByClassName("acti");
      if (current.length > 0) {
        current[0].className = current[0].className.replace(" acti", "");
      }
      this.className += " acti";
    });
  }
  const mchart = {
    id: 'mchart',

    afterEvent(chart, args) {
      const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = chart;

      canvas.addEventListener('mousemove', (event) => {
        const x = args.event.x;
        const y = args.event.y;

        if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {
          canvas.style.cursor = 'pointer';
        }
        else if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {
          canvas.style.cursor = 'pointer';
        }
        else {
          canvas.style.cursor = 'default';
        }
      })
    },

    afterDraw(chart, args, pluginOptions) {
      const { ctx, chartArea: { left, right, top, bottom, width, height } } = chart;

      class CircleChevron {
        draw(ctx, x1, pixel) {
          const angle = Math.PI / 180;

          ctx.beginPath();
          ctx.lineWidth = 1;
          ctx.strokeStyle = 'rgb(255,255,255,0)';
          ctx.fillStyle = 'rgba(255,255,255,0)';
          ctx.arc(x1, height / 2 + top, 15, angle * 0, angle * 360, false);
          ctx.stroke();
          ctx.fill();
          ctx.closePath();

          ctx.beginPath();
          ctx.lineWidth = 2;
          ctx.strokeStyle = '	#FF0000';
          ctx.moveTo(x1 + pixel, height / 2 + top - 7.5);
          ctx.lineTo(x1 - pixel, height / 2 + top);
          ctx.lineTo(x1 + pixel, height / 2 + top + 7.5);
          ctx.stroke();
          ctx.closePath();
        }
      }

      let drawCircleLeft = new CircleChevron();
      drawCircleLeft.draw(ctx, left, 5);

      let drawCircleRight = new CircleChevron();
      drawCircleRight.draw(ctx, right, -5);
    }
  };

  function createDiagonalPattern2(color = 'black') {
    let shape = document.createElement('canvas')
    shape.width = 60
    shape.height = 60

    let drawingContext = shape.getContext('2d')
    var color1 = "#FCD2D1"
    var color2 = "#FD5D5D";
    var numberOfStripes = 30;
    for (var i = 0; i < numberOfStripes * 2; i++) {
      var thickness = 60 / numberOfStripes;
      drawingContext.beginPath();
      drawingContext.strokeStyle = i % 2 ? color1 : color2;
      drawingContext.lineWidth = thickness;
      drawingContext.lineCap = 'round';

      drawingContext.moveTo(i * thickness + thickness / 2 - 60, 0);
      drawingContext.lineTo(0 + i * thickness + thickness / 2, 60);
      drawingContext.stroke();
    }
    // create the pattern from the shape
    return drawingContext.createPattern(shape, 'repeat')
  }

  function sortChart(label1, datain, databey, cin, cbey) {

    let merged = label1.map(function (d, i) {
      return {
        "label": label1[i],
        "datain": datain[i],
        "databey": databey[i],
        "cin": cin[i],
        "cbey": cbey[i],
      }
    });

    const dataSort = merged.sort(function (a, b) {
      return b.datain - a.datain;
    });

    console.log(dataSort)
    const din = []
    const dbey = []
    const lab = []
    const c1 = []
    const c2 = []


    for (i = 0; i < dataSort.length; i++) {
      lab.push(dataSort[i].label);
      din.push(dataSort[i].datain);
      dbey.push(dataSort[i].databey);
      c1.push(dataSort[i].cin);
      c2.push(dataSort[i].cbey);

    }

    return [lab, din, dbey, c1, c2];
  }

  function sortChart2(label1, datain, databey, cin, cbey, ctot) {

    let merged = label1.map(function (d, i) {
      return {
        "label": label1[i],
        "datain": datain[i],
        "databey": databey[i],
        "cin": cin[i],
        "cbey": cbey[i],
        "ctot": ctot[i],
      }
    });

    var c0 = 0;
    for (let i = 0; i < databey.length; i++) {
      if (databey[i] == 0) {
        c0 += 1;
      }
    }

    console.log(databey.length, "hekki", c0)



    const dataSort = merged.sort(function (a, b) {
      return b.databey - a.databey;
    });

    if (c0 == databey.length) {
      const dataSort = merged.sort(function (a, b) {
        return b.datain - a.datain;
      });
      console.log("hiii");
    }


    const din = []
    const dbey = []
    const lab = []
    const c1 = []
    const c2 = []
    const c3 = []


    for (i = 0; i < dataSort.length; i++) {
      lab.push(dataSort[i].label);
      din.push(dataSort[i].datain);
      dbey.push(dataSort[i].databey);
      c1.push(dataSort[i].cin);
      c2.push(dataSort[i].cbey);
      c3.push(dataSort[i].ctot);

    }

    return [lab, din, dbey, c1, c2, c3];
  }

  function sortChart3(label1, datain, databey, cin, cbey, ctot,labelfull) {

let merged = label1.map(function (d, i) {
  return {
    "label": label1[i],
    "datain": datain[i],
    "databey": databey[i],
    "cin": cin[i],
    "cbey": cbey[i],
    "ctot": ctot[i],
    "fulllabel":labelfull[i],
  }
});

var c0 = 0;
for (let i = 0; i < databey.length; i++) {
  if (databey[i] == 0) {
    c0 += 1;
  }
}

console.log(databey.length, "hekki", c0)



const dataSort = merged.sort(function (a, b) {
  return b.databey - a.databey;
});

if (c0 == databey.length) {
  const dataSort = merged.sort(function (a, b) {
    return b.datain - a.datain;
  });
  console.log("hiii");
}


const din = []
const dbey = []
const lab = []
const labf = []
const c1 = []
const c2 = []
const c3 = []


for (i = 0; i < dataSort.length; i++) {
  lab.push(dataSort[i].label);
  labf.push(dataSort[i].fulllabel);
  din.push(dataSort[i].datain);
  dbey.push(dataSort[i].databey);
  c1.push(dataSort[i].cin);
  c2.push(dataSort[i].cbey);
  c3.push(dataSort[i].ctot);

}

return [lab, din, dbey, c1, c2, c3,labf];
}

  const ctx7 = document.getElementById('myChart7').getContext('2d');
  let zonalwiselst = {{ zonalwiselst| safe}}
  let zonalwisedata = {{ zonalwisedata| safe}}
  const myChart7 = new Chart(ctx7, {
    type: 'bar',
    data: {
      labels: zonalwiselst,
      labelAngle: 90,
      datasets: [{
        data: zonalwisedata,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {

      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },

      scales: {
        x: {
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'RB/ZONE'
          },
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }
      },

      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx71 = document.getElementById('myChart71').getContext('2d');
  let zonalwiselstrb = {{ zonalwiselstrb| safe}}
  let zonalwisedatarb = {{ zonalwisedatarb| safe}}
  const myChart71 = new Chart(ctx71, {
    type: 'bar',
    data: {
      labels: zonalwiselstrb,
      labelAngle: 90,
      datasets: [{
        data: zonalwisedatarb,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },

      scales: {
        x: {
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: ''
          },
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }
      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });


  const ctx72 = document.getElementById('myChart72').getContext('2d');
  let zonalwiselstzone = {{ zonalwiselstzone| safe}}
  let zonalwisedatazone = {{ zonalwisedatazone| safe}}
  const myChart72 = new Chart(ctx72, {
    type: 'bar',
    data: {
      labels: zonalwiselstzone,
      labelAngle: 90,
      datasets: [{
        data: zonalwisedatazone,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },

      scales: {
        x: {
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'ZONE'
          },
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }
      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx8 = document.getElementById('myChart8').getContext('2d');
  let pulst = {{ pulst| safe}}
  let pudata = {{ pudata| safe}}
  const myChart8 = new Chart(ctx8, {
    type: 'bar',
    data: {
      labels: pulst,
      datasets: [{
        data: pudata,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'PU/CTI/PSU'
          }
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx81 = document.getElementById('myChart81').getContext('2d');
  let pulstpu = {{ pulstpu| safe}}
  let pudatapu = {{ pudatapu| safe}}
  const myChart81 = new Chart(ctx81, {
    type: 'bar',
    data: {
      labels: pulstpu,
      datasets: [{
        data: pudatapu,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'PU'
          }
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx83 = document.getElementById('myChart83').getContext('2d');
  let pulstpsu = {{ pulstpsu| safe}}
  let pudatapsu = {{ pudatapsu| safe}}
  const myChart83 = new Chart(ctx83, {
    type: 'bar',
    data: {
      labels: pulstpsu,
      datasets: [{
        data: pudatapsu,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'PSU'
          }
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx82 = document.getElementById('myChart82').getContext('2d');
  let pulstcti = {{ pulstcti| safe}}
  let pudatacti = {{ pudatacti| safe}}
  const myChart82 = new Chart(ctx82, {
    type: 'bar',
    data: {
      labels: pulstcti,
      datasets: [{
        data: pudatacti,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'CTI'
          }
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx3 = document.getElementById('myChart9').getContext('2d');
  let drmwiselst = {{ drmwiselst | safe}}
  let drmwisedata = {{ drmwisedata | safe}}
  const myChart9 = new Chart(ctx3, {
    type: 'bar',
    data: {
      labels: drmwiselst,
      datasets: [{
        data: drmwisedata,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
        },

        y: {
          display: true,
          beginAtZero: true,
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx4 = document.getElementById('myChart10').getContext('2d');
  let phodwiselst = {{ phodwiselst | safe}}
  let phodwisedata = {{ phodwisedata | safe}}
  const myChart10 = new Chart(ctx4, {
    type: 'bar',
    data: {
      labels: phodwiselst,
      datasets: [{
        data: phodwisedata,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 6,

          ticks: {
            maxRotation: 0,
          },
        },

        y: {
          display: true,
          beginAtZero: true,
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });


  const ctx11 = document.getElementById('myChart11').getContext('2d');
  let bowiselst = {{ bowiselst | safe}}
  let bowisedata = {{ bowisedata | safe}}
  const myChart11 = new Chart(ctx11, {
    type: 'bar',
    data: {
      labels: bowiselst,
      datasets: [{
        data: bowisedata,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 6,
          title: {
            display: false,
            text: 'CTI'
          }
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  const ctx12 = document.getElementById('myChart12').getContext('2d');
  let data3 = {{ departwiselst | safe}}
  let data4 = {{ departwisedata | safe}}
  const myChart12 = new Chart(ctx12, {
    type: 'bar',
    data: {
      labels: data3,
      datasets: [{
        data: data4,
        backgroundColor: color => {
          var r = Math.floor(Math.random() * 255);
          var g = Math.floor(Math.random() * 255);
          var b = Math.floor(Math.random() * 255);
          return "rgba(" + r + "," + g + "," + b + ", 0.5)";
        },
      }]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
      },
      scales: {
        x: {
          display: true,
          min: 0,
          max: 3,
          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'CTI'
          }
        },

        y: {
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });



  // ----------------Non Compliance Zone+RB --------------
  const ctx7non = document.getElementById('myChart7non').getContext('2d');
  let zonalwiselstnon = {{ zonalwiselst| safe}}
  let zonalwisedatanon1 = {{ zonalwisedatanon1| safe}}
  let zonalwisedatanon2 = {{ zonalwisedatanon2| safe}}
  let countinzonal1 = {{ countinzonal1 | safe}}
  let countbeyzonal1 = {{ countbeyzonal1 | safe}}
  let counttotmarkall = {{ counttotmarkall | safe}}



  let sortData7 = sortChart2(zonalwiselstnon, zonalwisedatanon1, zonalwisedatanon2, countinzonal1, countbeyzonal1, counttotmarkall)

  const zonalwisedatanon11 = sortData7[1];
  const zonalwisedatanon22 = sortData7[2];
  const zonalwiselstnon1 = sortData7[0];
  const czonal1 = sortData7[3];
  const czonal2 = sortData7[4];
  const cmarked = sortData7[5];

  const myChart7non = new Chart(ctx7non, {
    type: 'bar',
    data: {
      labels: zonalwiselstnon1,
      labelAngle: 90,
      datasets: [
        {
          label: 'Overdue',
          data: zonalwisedatanon22,

          backgroundColor: createDiagonalPattern2('yellow'),
          borderColor: '#FD5D5D',
          borderWidth: 0,


        },
        {
          data: zonalwisedatanon11,
          label: 'Within Target',
          backgroundColor: '#e6b800;',
          borderColor: '#F4E06D',
          borderWidth: 1,


        },]
    },
    options: {


      onClick: function (context, zonalwiselstnon1) {
        console.log(context)


        const points = myChart7non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=GM/" + cd1,
          '_blank');


      },

      interaction: {
        mode: 'index'
      },
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          yAlign: 'bottom',
          xAlign: 'center',
          callbacks: {

            afterTitle: function (sortData7) {

              const sump = czonal1[sortData7[0].dataIndex] + czonal2[sortData7[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarked[sortData7[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + czonal2[sortData7[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(zonalwisedatanon22[sortData7[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData7;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };

              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                // labelValue += ":   " + stackedarray.reduce(reducer) + "%  Count: " + var2[3][context.dataIndex];
                // return `${labelName} ${labelValue}`;
              }
              else {
                // labelValue += "Items (%) : " + stackedarray.reduce(reducer);
                // return `${labelName} ${labelValue}`;
              }



            },


          }
        }
      },

      scales: {
        x: {
          stacked: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'RB/ZONE'
          },
        },

        y: {
          stacked: true,
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }
      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ----------------Ends --------------

  // ----------------Non Compliance RB --------------
  const ctx71non = document.getElementById('myChart71non').getContext('2d');
  let zonalwiselstrbnon = {{ listrb| safe}}
  let zonalwisedatarbnon1 = {{ cper1| safe}}
  let zonalwisedatarbnon2 = {{ cper2| safe}}
  let countinrb1 = {{ cinrb | safe}}
  let countbeyrb1 = {{ cbeyrb | safe}}
  let counttotmarkrb = {{ cmarkrb | safe}}

  let sortData71 = sortChart(zonalwiselstrbnon, zonalwisedatarbnon1, zonalwisedatarbnon2, countinrb1, countbeyrb1, counttotmarkrb)

  const zonalwisedatarbnon11 = sortData71[1];
  const zonalwisedatarbnon22 = sortData71[2];
  const zonalwiselstrbnon1 = sortData71[0];
  const crb1 = sortData71[3];
  const crb2 = sortData71[4];
  const cmarkedrb = sortData71[5];

  const myChart71non = new Chart(ctx71non, {
    type: 'bar',
    data: {
      labels: zonalwiselstrbnon1,
      labelAngle: 90,
      datasets: [{
        label: 'Overdue',
        data: zonalwisedatarbnon22,

        backgroundColor: createDiagonalPattern2('yelow'),
        borderColor: '#e6b800;',
        borderWidth: 0,


      },
      {
        data: zonalwisedatarbnon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,



      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      onClick: function (context, zonalwiselstrbnon1) {
        console.log(context)


        const points = myChart71non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=GM/" + cd1,
          '_blank');


      },
      interaction: {
        mode: 'index'
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',

          callbacks: {

            afterTitle: function (sortData71) {
              const sump = crb1[sortData71[0].dataIndex] + crb2[sortData71[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkedrb[sortData71[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + crb2[sortData71[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(zonalwisedatarbnon22[sortData71[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData71;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                // labelValue += ":   " + stackedarray.reduce(reducer) + "%  Count: " + var2[3][context.dataIndex];
              }
              else {
                // labelValue += ": " + stackedarray.reduce(reducer) + "%  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },

      scales: {
        x: {
          stacked: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: ''
          },
        },

        y: {
          stacked: true,
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }
      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ----------------Ends --------------

  // ----------------Non Compliance Zone --------------
  const ctx72non = document.getElementById('myChart72non').getContext('2d');
  let zonalwiselstzonenon = {{ zonalwiselstzone| safe}}
  let zonalwisedatazonenon1 = {{ zonalwisedatazonenon1| safe}}
  let zonalwisedatazonenon2 = {{ zonalwisedatazonenon2| safe}}
  let countinzone1 = {{ countinzone1 | safe}}
  let countbeyzone1 = {{ countbeyzone1 | safe}}
  let counttotmarkzone = {{ counttotmarkzone | safe}}

  let sortData72 = sortChart2(zonalwiselstzonenon, zonalwisedatazonenon1, zonalwisedatazonenon2, countinzone1, countbeyzone1, counttotmarkzone)
  const zonalwisedatazonenon11 = sortData72[1];
  const zonalwisedatazonenon22 = sortData72[2];
  const zonalwiselstzonenon1 = sortData72[0];
  const czone1 = sortData72[3];
  const czone2 = sortData72[4];
  const cmarkedzone = sortData72[5];

  const myChart72non = new Chart(ctx72non, {
    type: 'bar',
    data: {
      labels: zonalwiselstzonenon1,
      labelAngle: 90,
      datasets: [{
        label: 'Overdue',
        data: zonalwisedatazonenon22,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: zonalwisedatazonenon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      onClick: function (context, zonalwiselstzonenon1) {
        console.log(context)


        const points = myChart72non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=GM/" + cd1,
          '_blank');


      },
      interaction: {
        mode: 'index'
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData72) {
              const sump = czone1[sortData72[0].dataIndex] + czone2[sortData72[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkedzone[sortData72[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + czone2[sortData72[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(zonalwisedatazonenon22[sortData72[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData72;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },


      scales: {
        x: {
          stacked: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'ZONE'
          },
        },

        y: {
          stacked: true,
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }
      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ----------------Ends --------------

  // ----------------Non Compliance PU+CTI+PSU --------------
  const ctx8non = document.getElementById('myChart8non').getContext('2d');
  let pulstnon = {{ pulst| safe}}
  let pudatanon1 = {{ pudatanon1| safe}}
  let pudatanon2 = {{ pudatanon2| safe}}
  let countinpu1 = {{ countinpu1 | safe}}
  let countbeypu1 = {{ countbeypu1 | safe}}
  let counttotmarkall1 = {{ counttotmarkall1 | safe}}

  let sortData8 = sortChart2(pulstnon, pudatanon1, pudatanon2, countinpu1, countbeypu1, counttotmarkall1)

  const pudatanon11 = sortData8[1];
  const pudatanon21 = sortData8[2];
  const pulstnon1 = sortData8[0];
  const countinpu11 = sortData8[3];
  const countbeypu11 = sortData8[4];
  const cmarkedall1 = sortData8[5];

  const myChart8non = new Chart(ctx8non, {
    type: 'bar',
    data: {
      labels: pulstnon1,
      datasets: [{
        label: 'Overdue',
        data: pudatanon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: pudatanon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      onClick: function (context, pulstnon1) {
        
        console.log(context)


        const points = myChart8non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=GM/" + cd1,
          '_blank');


      },
      interaction: {
        mode: 'index'
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData8) {
              const sump = countinpu11[sortData8[0].dataIndex] + countbeypu11[sortData8[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkedall1[sortData8[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeypu11[sortData8[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(pudatanon21[sortData8[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData8;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'PU/CTI/PSU'
          }
        },

        y: {
          stacked: true,
          stacked: true,
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ---------------- Ends --------------

  // ----------------Non Compliance PU --------------
  const ctx81non = document.getElementById('myChart81non').getContext('2d');
  let pulstpunon = {{ pulstpu| safe}}
  let pudatapunon1 = {{ pudatapunon1| safe}}
  let pudatapunon2 = {{ pudatapunon2| safe}}
  let countinpu2 = {{ countinpu2 | safe}}
  let countbeypu2 = {{ countbeypu2 | safe}}
  let counttotmarkpu = {{ counttotmarkpu | safe}}


  let sortData81 = sortChart2(pulstpunon, pudatapunon1, pudatapunon2, countinpu2, countbeypu2, counttotmarkpu)

  const pudatapunon11 = sortData81[1];
  const pudatapunon21 = sortData81[2];
  const pulstpunon1 = sortData81[0];
  const countinpu21 = sortData81[3];
  const countbeypu21 = sortData81[4];
  const cmarkedpu = sortData81[5];

  const myChart81non = new Chart(ctx81non, {
    type: 'bar',
    data: {
      labels: pulstpunon1,
      datasets: [{
        label: 'Overdue',
        data: pudatapunon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: pudatapunon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      onClick: function (context, pulstpunon1) {
        
        console.log(context)


        const points = myChart81non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=GM/" + cd1,
          '_blank');


      },
      interaction: {
        mode: 'index'
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData81) {
              const sump = countinpu21[sortData81[0].dataIndex] + countbeypu21[sortData81[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkedpu[sortData81[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeypu21[sortData81[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(pudatapunon21[sortData81[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData81;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'PU'
          }
        },

        y: {
          stacked: true,
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ----------------Ends--------------

  // ----------------Non Compliance CTI --------------
  const ctx82non = document.getElementById('myChart82non').getContext('2d');
  let pulstctinon = {{ pulstcti| safe}}
  let pudatactinon1 = {{ pudatactinon1| safe}}
  let pudatactinon2 = {{ pudatactinon2| safe}}
  let countincti1 = {{ countincti1 | safe}}
  let countbeycti1 = {{ countbeycti1 | safe}}
  let counttotmarkcti = {{ counttotmarkcti | safe}}

  let sortData82 = sortChart2(pulstctinon, pudatactinon1, pudatactinon2, countincti1, countbeycti1, counttotmarkcti)

  const pudatactinon11 = sortData82[1];
  const pudatactinon21 = sortData82[2];
  const pulstctinon1 = sortData82[0];
  const countincti11 = sortData82[3];
  const countbeycti11 = sortData82[4];
  const cmarkedcti = sortData82[5];

  const myChart82non = new Chart(ctx82non, {
    type: 'bar',
    data: {
      labels: pulstctinon1,
      datasets: [{
        label: 'Overdue',
        data: pudatactinon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: pudatactinon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      interaction: {
        mode: 'index'
      },
      onClick: function (context, pulstctinon1) {
        
        console.log(context)


        const points = myChart82non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=GM/" + cd1,
          '_blank');


      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData82) {
              const sump = countincti11[sortData82[0].dataIndex] + countbeycti11[sortData82[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkedcti[sortData82[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeycti11[sortData82[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(pudatactinon21[sortData82[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData82;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },

      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
          title: {
            display: false,
            text: 'CTI'
          }
        },

        y: {
          stacked: true,
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,
          title: {
            display: false,
            text: '% Compliances'
          },
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ---------------- Ends --------------

  // ----------------Non Compliance PSU --------------
  const ctx83non = document.getElementById('myChart83non').getContext('2d');
  let pulstpsunon = {{ pulstpsu| safe}}
  let pudatapsunon1 = {{ pudatapsunon1| safe}}
  let pudatapsunon2 = {{ pudatapsunon2| safe}}
  let countinpsu1 = {{ countinpsu1 | safe}}
  let countbeypsu1 = {{ countbeypsu1 | safe}}
  let counttotmarkpsu = {{ counttotmarkpsu | safe}}

  let sortData83 = sortChart2(pulstpsunon, pudatapsunon1, pudatapsunon2, countinpsu1, countbeypsu1, counttotmarkpsu)

  const pudatapsunon11 = sortData83[1];
  const pudatapsunon21 = sortData83[2];
  const pulstpsunon1 = sortData83[0];
  const countinpsu11 = sortData83[3];
  const countbeypsu11 = sortData83[4];
  const cmarkedpsu = sortData83[5];

  const myChart83non = new Chart(ctx83non, {
    type: 'bar',
    data: {
      labels: pulstpsunon1,
      datasets: [{
        label: 'Overdue',
        data: pudatapsunon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: pudatapsunon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      onClick: function (context, pulstpsunon1) {
        
        console.log(context)


        const points = myChart83non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=GM/" + cd1,
          '_blank');


      },
      interaction: {
        mode: 'index'
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData83) {
              const sump = countinpsu11[sortData83[0].dataIndex] + countbeypsu11[sortData83[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkedpsu[sortData83[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeypsu11[sortData83[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(pudatapsunon21[sortData83[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData83;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },

        },

        y: {
          stacked: true,
          display: true,
          beginAtZero: true,
          min: 0,
          max: 100,

          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ---------------- Ends --------------

  // ----------------Non Compliance DRM --------------
  // ----------------Non Compliance DRM --------------
  const ctx3non = document.getElementById('myChart9non').getContext('2d');
  let drmwiselstnon = {{ drmwiselst | safe}}
  let drmwisedatanon1 = {{ drmwisedatanon1 | safe}}
  let drmwisedatanon2 = {{ drmwisedatanon2 | safe}}
  let countindrm = {{ countindrm | safe}}
  let countbeydrm = {{ countbeydrm | safe}}
  let countmarkdrm = {{ countmarkdrm | safe}}
  let drmwisefulldesig = {{drmwisefulldesig | safe}}
  

  let sortData3 = sortChart3(drmwiselstnon, drmwisedatanon1, drmwisedatanon2, countindrm, countbeydrm, countmarkdrm,drmwisefulldesig)

  const drmwisedatanon11 = sortData3[1];
  const drmwisedatanon21 = sortData3[2];
  const drmwiselstnon1 = sortData3[0];
  const countindrm1 = sortData3[3];
  const countbeydrm1 = sortData3[4];
  const cmarkdrm = sortData3[5];
  const drmwisefulldesig1 = sortData3[6];
  

  const myChart9non = new Chart(ctx3non, {
    type: 'bar',
    data: {
      labels: drmwiselstnon1,
      datasets: [{
        label: 'Overdue',
        data: drmwisedatanon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: drmwisedatanon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      onClick: function (context) {
        
        console.log(context)
        


        const points = myChart9non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        let cd2 = drmwisefulldesig1[cd]
        
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=" + cd2,
          '_blank');


      },
      interaction: {
        mode: 'index'
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData3) {
              const sump = countindrm1[sortData3[0].dataIndex] + countbeydrm1[sortData3[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkdrm[sortData3[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeydrm1[sortData3[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(drmwisedatanon21[sortData3[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData3;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
        },

        y: {

          stacked: true,
          display: true,
          beginAtZero: true,
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ---------------- ends --------------


  // ----------------Non Compliance PHOD --------------
  const ctx10non = document.getElementById('myChart10non').getContext('2d');
  let phodwiselstnon = {{ phodwiselst | safe}}
  let phodwisedatanon1 = {{ phodwisedatanon1 | safe}}
  let phodwisedatanon2 = {{ phodwisedatanon2 | safe}}
  let countinphod = {{ countinphod | safe}}
  let countbeyphod = {{ countbeyphod | safe}}
  let countmarkphod = {{ countmarkphod | safe}}
  let phodwisefulldesig = {{phodwisefulldesig | safe}}


  let sortData10 = sortChart3(phodwiselstnon, phodwisedatanon1, phodwisedatanon2, countinphod, countbeyphod, countmarkphod,phodwisefulldesig)

  const phodwisedatanon11 = sortData10[1];

  const phodwisedatanon21 = sortData10[2];
  const phodwiselstnon1 = sortData10[0];
  const countinphod1 = sortData10[3];
  const countbeyphod1 = sortData10[4];
  const cmarkphod = sortData10[5];
  const phodwisefulldesig1 = sortData10[6];

  const myChart10non = new Chart(ctx10non, {

    type: 'bar',
    data: {
      labels: phodwiselstnon1,
      datasets: [{
        label: 'Overdue',
        data: phodwisedatanon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: phodwisedatanon11,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      interaction: {
        mode: 'index'
      },
      onClick: function (context) {
        
  
        const points = myChart10non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log(points)
        const cd = points[0].index
        let cd1 = context.chart.config.data.labels[cd]
        let cd2 = phodwisefulldesig1[cd]
        
        // alert(url);
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=" + cd2,
          '_blank');


      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData10) {
              const sump = countinphod1[sortData10[0].dataIndex] + countbeyphod1[sortData10[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkphod[sortData10[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeyphod1[sortData10[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(phodwisedatanon21[sortData10[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData10;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
        },

        y: {

          stacked: true,
          display: true,
          beginAtZero: true,
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });



  // ---------------- ends --------------
  // ---------------- ends --------------

  // ----------------Non Compliance BO --------------
  const ctx11non = document.getElementById('myChart11non').getContext('2d');
  let bowiselstnon = {{ bowiselst | safe}}
  
  let bowisedatanon1 = {{ bowisedatanon1 | safe}}
  let bowisedatanon2 = {{ bowisedatanon2 | safe}}
  let countinbo = {{ countinbo | safe}}
  let countbeybo = {{ countbeybo | safe}}

  let sortData11 = sortChart(bowiselstnon, bowisedatanon1, bowisedatanon2, countinbo, countbeybo)

  const bowisedatanon11 = sortData11[1];

  const bowisedatanon21 = sortData11[2];
  const bowiselstnon1 = sortData11[0];
  const countinbo1 = sortData11[3];
  const countbeybo1 = sortData11[4];

  const myChart11non = new Chart(ctx11non, {

    type: 'bar',
    data: {
      labels: bowiselstnon1,
      datasets: [{
        label: 'Beyond Target',
        data: bowisedatanon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: bowisedatanon11,
        label: 'Within Target',
        backgroundColor: '#FFE9A0',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          callbacks: {
            footer: function (sortData11) {

              if (sortData11[0].dataset.label === 'Within Target') {
                return "Count: " + countinbo1[sortData11[0].dataIndex];
              }
              else {
                return "Count: " + countbeybo1[sortData11[0].dataIndex];
              }

            }
          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
        },

        y: {

          stacked: true,
          display: true,
          beginAtZero: true,
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ---------------- Ends --------------
// ----------------Non Compliance Other Users --------------
const ctx14non = document.getElementById('myChart14non').getContext('2d');
 //const adrmwiselstnon = {{adrmwiselst}}
 let othwiselstnon =  {{ othwiselstnon | safe}}
 let othwisedatanon1 = {{ othwisedatanon1 | safe}}
 let othwisedatanon2 = {{ othwisedatanon2 | safe}}
 let countinoth = {{ countinoth | safe}}
 let countbeyoth = {{ countbeyoth | safe}}
 let countmarkoth = {{ countmarkoth | safe}}  
 let sortData15 = sortChart2(othwiselstnon, othwisedatanon1, othwisedatanon2, countinoth, countbeyoth, countmarkoth)

 const othwisedatanon11 = sortData15[1];
 const othwisedatanon21 = sortData15[2];
 const othwiselstnon1 = sortData15[0];
 const countinoth1 = sortData15[3];
 const countbeyoth1 = sortData15[4];
 const cmarkoth = sortData15[5];

 // alert(othwiselstnon1,othwisedatanon11,othwisedatanon21)

 const myChart14non = new Chart(ctx14non, {
   type: 'bar',
   data: {
     labels: othwiselstnon,
     datasets: [{
       label: 'Overdue',
       data: othwisedatanon21,
       backgroundColor: createDiagonalPattern2('yellow'),
       borderColor: '#FD5D5D',
       borderWidth: 0,
       barThickness: 40


     },
     {
       data: othwisedatanon11,
       label: 'Within Target',
       backgroundColor: '#e6b800;',
       borderColor: '#F4E06D',
       borderWidth: 1,
       barThickness: 40

     },]
   },
   options: {
     layout: {
       padding: {
         right: 16.5
       }
     },
     onClick: function (context, othwiselstnon1) {

      
        console.log(context)


        const points = myChart14non.getElementsAtEventForMode(context, 'nearest', {
          intersect: true
        }, true);

        console.log("bgvgc",points)
        alert("vgv")
        const cd = points[0].index
        
        let cd1 = context.chart.config.data.labels[cd]
        console.log(cd1)
        // alert(url);
        
        window.open("{% url 'dash_details' %}?data=" + "&data1=pendj&data2=Item&data3={{color}}&data5=graph&markoff=" + cd1,
          '_blank');


      },
     interaction: {
       mode: 'index'
     },
     plugins: {
       legend: {
         display: false
       },
       tooltip: {
         xAlign: 'center',
         yAlign: 'bottom',
         callbacks: {

           afterTitle: function (sortData15) {
             const sump = countinoth1[sortData15[0].dataIndex] + countbeyoth1[sortData15[0].dataIndex]
             return "Items Marked (Nos)    : " + cmarkoth[sortData15[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeyoth1[sortData15[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(othwisedatanon21[sortData15[0].dataIndex]);
           },
           label: function (context) {

             const var2 = sortData15;

             const stackedarray = []
             for (i = 0; i <= context.datasetIndex; i++) {
               stackedarray.push(context.parsed._stacks.y[i])
             };



             const reducer = (accumulator, currentValue) => currentValue;

             let labelName = context.dataset.label;
             let labelValue = ""
             if (labelName === "Within Target") {
               labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
             }
             else {
               labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
             }

             // return `${labelName} ${labelValue}`;

           },


         }
       }
     },
     scales: {
       x: {
         stacked: true,
         display: true,
         min: 0,
         max: 6,
         
         ticks: {
           maxRotation: 0,
         },
       },

       y: {

         stacked: true,
         display: true,
         beginAtZero: true,
         suggestedMin: 0,
         suggestedMax: 100,
         ticks: {
           stepSize: 20,
         }
       }

     },
     title: {
       display: false,
     }
   },
   plugins: [mchart]
 });

 // // ---------------- ends --------------
  // ----------------Non Compliance Department --------------
  const ctx12non = document.getElementById('myChart12non').getContext('2d');
  let departwiselstnon = {{ departwiselst | safe}}
  let departwisedatanon1 = {{ departwisedatanon1 | safe}}
  let departwisedatanon2 = {{ departwisedatanon2 | safe}}
  let countindepart = {{ countindepart | safe}}
  let countbeydepart = {{ countbeydepart | safe}}

  let sortData12 = sortChart(departwiselstnon, departwisedatanon1, departwisedatanon2, countindepart, countbeydepart)

  const departwisedatanon11 = sortData12[1];

  const departwisedatanon21 = sortData12[2];
  const departwiselstnon1 = sortData12[0];
  const countindepart1 = sortData12[3];
  const countbeydepart1 = sortData12[4];

  const myChart12non = new Chart(ctx12non, {

    type: 'bar',
    data: {
      labels: departwiselstnon1,
      datasets: [{
        label: 'Beyond Target',
        data: departwisedatanon21,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: departwisedatanon11,
        label: 'Within Target',
        backgroundColor: '#FFE9A0',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      plugins: {
        legend: {
          display: true
        },
        tooltip: {
          callbacks: {
            footer: function (sortData12) {

              if (sortData12[0].dataset.label === 'Within Target') {
                return "Count: " + countindepart1[sortData12[0].dataIndex];
              }
              else {
                return "Count: " + countbeydepart1[sortData12[0].dataIndex];
              }

            }
          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 3,
          ticks: {
            maxRotation: 0,
          },
        },

        y: {

          stacked: true,
          display: true,
          beginAtZero: true,
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // ---------------- Ends --------------

  // ----------------Non Compliance ADRM --------------
  const ctx13non = document.getElementById('myChart13non').getContext('2d');
 
  //const adrmwiselstnon = {{adrmwiselst}}
  let adrmwiselstnon =  {{ adrmwiselst | safe}}
  let adrmwisedatanon1 = {{ adrmwisedatanon1 | safe}}
  let adrmwisedatanon2 = {{ adrmwisedatanon2 | safe}}

  let countinadrm = {{ countinadrm | safe}}

  let countbeyadrm = {{ countbeyadrm | safe}}
  
  let countmarkadrm = {{ countmarkadrm | safe}}  
  let sortData13 = sortChart2(adrmwiselstnon, adrmwisedatanon1, adrmwisedatanon2, countinadrm, countbeyadrm, countmarkadrm)

  const adrmwisedatanon11 = sortData13[1];
  const adrmwisedatanon21 = sortData13[2];
  const adrmwiselstnon1 = sortData13[0];
  const countinadrm1 = sortData13[3];
  const countbeyadrm1 = sortData13[4];
  const cmarkadrm = sortData13[5];

  const myChart13non = new Chart(ctx13non, {
    type: 'bar',
    data: {
      labels: adrmwiselstnon,
      datasets: [{
        label: 'Overdue',
        data: adrmwisedatanon2,
        backgroundColor: createDiagonalPattern2('yellow'),
        borderColor: '#FD5D5D',
        borderWidth: 0,


      },
      {
        data: adrmwisedatanon1,
        label: 'Within Target',
        backgroundColor: '#e6b800;',
        borderColor: '#F4E06D',
        borderWidth: 1,

      },]
    },
    options: {
      layout: {
        padding: {
          right: 16.5
        }
      },
      interaction: {
        mode: 'index'
      },
      plugins: {
        legend: {
          display: false
        },
        tooltip: {
          xAlign: 'center',
          yAlign: 'bottom',
          callbacks: {

            afterTitle: function (sortData13) {
              const sump = countinadrm1[sortData13[0].dataIndex] + countbeyadrm1[sortData13[0].dataIndex]
              return "Items Marked (Nos)    : " + cmarkadrm[sortData13[0].dataIndex] + "\n" + "Items Pending (Nos)  : " + sump + "\n" + "Overdue Items (Nos)  : " + countbeyadrm1[sortData13[0].dataIndex] + "\n" + "Overdue Items (%)      : " + Math.round(adrmwisedatanon21[sortData13[0].dataIndex]);
            },
            label: function (context) {

              const var2 = sortData13;

              const stackedarray = []
              for (i = 0; i <= context.datasetIndex; i++) {
                stackedarray.push(context.parsed._stacks.y[i])
              };



              const reducer = (accumulator, currentValue) => currentValue;

              let labelName = context.dataset.label;
              let labelValue = ""
              if (labelName === "Within Target") {
                labelValue += ":   " + stackedarray.reduce(reducer) + "  Count: " + var2[3][context.dataIndex];
              }
              else {
                labelValue += ": " + stackedarray.reduce(reducer) + "  Count: " + var2[4][context.dataIndex];
              }

              // return `${labelName} ${labelValue}`;

            },


          }
        }
      },
      scales: {
        x: {
          stacked: true,
          display: true,
          min: 0,
          max: 6,
          ticks: {
            maxRotation: 0,
          },
        },

        y: {

          stacked: true,
          display: true,
          beginAtZero: true,
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            stepSize: 20,
          }
        }

      },
      title: {
        display: false,
      }
    },
    plugins: [mchart]
  });

  // // ---------------- ends --------------
  function moveScroll71non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart71non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart71non.options.scales.x.min = myChart71non.options.scales.x.min - 7;
        myChart71non.options.scales.x.max = myChart71non.options.scales.x.max - 7;

        if (myChart71non.options.scales.x.max <= 0) {
          myChart71non.options.scales.x.min = 0;
          myChart71non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart71non.options.scales.x.min = myChart71non.options.scales.x.min + 7;
        myChart71non.options.scales.x.max = myChart71non.options.scales.x.max + 7;

        if (myChart71non.options.scales.x.max >= myChart71non.data.datasets[0].data.length) {
          myChart71non.options.scales.x.min = myChart71non.data.datasets[0].data.length - 7;
          myChart71non.options.scales.x.max = myChart71non.data.datasets[0].data.length;
        };
      }
      myChart71non.update();
    })
  };


  myChart71non.ctx.onclick = moveScroll71non();



  function moveScroll() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart7;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart7.options.scales.x.min = myChart7.options.scales.x.min - 7;
        myChart7.options.scales.x.max = myChart7.options.scales.x.max - 7;

        if (myChart7.options.scales.x.max <= 0) {
          myChart7.options.scales.x.min = 0;
          myChart7.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart7.options.scales.x.min = myChart7.options.scales.x.min + 7;
        myChart7.options.scales.x.max = myChart7.options.scales.x.max + 7;

        if (myChart7.options.scales.x.max >= myChart7.data.datasets[0].data.length) {
          myChart7.options.scales.x.min = myChart7.data.datasets[0].data.length - 7;
          myChart7.options.scales.x.max = myChart7.data.datasets[0].data.length;
        };
      }
      myChart7.update();
    })
  };

  function moveScroll11() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart11;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart11.options.scales.x.min = myChart11.options.scales.x.min - 7;
        myChart11.options.scales.x.max = myChart11.options.scales.x.max - 7;

        if (myChart11.options.scales.x.max <= 0) {
          myChart11.options.scales.x.min = 0;
          myChart11.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart11.options.scales.x.min = myChart11.options.scales.x.min + 7;
        myChart11.options.scales.x.max = myChart11.options.scales.x.max + 7;

        if (myChart11.options.scales.x.max >= myChart11.data.datasets[0].data.length) {
          myChart11.options.scales.x.min = myChart11.data.datasets[0].data.length - 7;
          myChart11.options.scales.x.max = myChart11.data.datasets[0].data.length;
        };
      }
      myChart11.update();
    })
  };

  function moveScroll12() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart12;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart12.options.scales.x.min = myChart12.options.scales.x.min - 4;
        myChart12.options.scales.x.max = myChart12.options.scales.x.max - 4;

        if (myChart12.options.scales.x.max <= 0) {
          myChart12.options.scales.x.min = 0;
          myChart12.options.scales.x.max = 3;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart12.options.scales.x.min = myChart12.options.scales.x.min + 4;
        myChart12.options.scales.x.max = myChart12.options.scales.x.max + 4;

        if (myChart12.options.scales.x.max >= myChart12.data.datasets[0].data.length) {
          myChart12.options.scales.x.min = myChart12.data.datasets[0].data.length - 3;
          myChart12.options.scales.x.max = myChart12.data.datasets[0].data.length;
        };
      }
      myChart12.update();
    })
  };

  myChart11.ctx.onclick = moveScroll11();
  myChart12.ctx.onclick = moveScroll12();

  function moveScroll72() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart72;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart72.options.scales.x.min = myChart72.options.scales.x.min - 7;
        myChart72.options.scales.x.max = myChart72.options.scales.x.max - 7;

        if (myChart72.options.scales.x.max <= 0) {
          myChart72.options.scales.x.min = 0;
          myChart72.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart72.options.scales.x.min = myChart72.options.scales.x.min + 7;
        myChart72.options.scales.x.max = myChart72.options.scales.x.max + 7;

        if (myChart72.options.scales.x.max >= myChart72.data.datasets[0].data.length) {
          myChart72.options.scales.x.min = myChart72.data.datasets[0].data.length - 7;
          myChart72.options.scales.x.max = myChart72.data.datasets[0].data.length;
        };
      }
      myChart72.update();
    })
  };

  function moveScroll1() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart8;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart8.options.scales.x.min = myChart8.options.scales.x.min - 7;
        myChart8.options.scales.x.max = myChart8.options.scales.x.max - 7;

        if (myChart8.options.scales.x.max <= 0) {
          myChart8.options.scales.x.min = 0;
          myChart8.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart8.options.scales.x.min = myChart8.options.scales.x.min + 7;
        myChart8.options.scales.x.max = myChart8.options.scales.x.max + 7;

        if (myChart8.options.scales.x.max >= myChart8.data.datasets[0].data.length) {
          myChart8.options.scales.x.min = myChart8.data.datasets[0].data.length - 7;
          myChart8.options.scales.x.max = myChart8.data.datasets[0].data.length;
        };
      }
      myChart8.update();
    })
  };

  function moveScroll81() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart81;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart81.options.scales.x.min = myChart81.options.scales.x.min - 7;
        myChart81.options.scales.x.max = myChart81.options.scales.x.max - 7;

        if (myChart81.options.scales.x.max <= 0) {
          myChart81.options.scales.x.min = 0;
          myChart81.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart81.options.scales.x.min = myChart81.options.scales.x.min + 7;
        myChart81.options.scales.x.max = myChart81.options.scales.x.max + 7;

        if (myChart81.options.scales.x.max >= myChart81.data.datasets[0].data.length) {
          myChart81.options.scales.x.min = myChart81.data.datasets[0].data.length - 7;
          myChart81.options.scales.x.max = myChart81.data.datasets[0].data.length;
        };
      }
      myChart81.update();
    })
  };

  function moveScroll82() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart82;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart82.options.scales.x.min = myChart82.options.scales.x.min - 7;
        myChart82.options.scales.x.max = myChart82.options.scales.x.max - 7;

        if (myChart82.options.scales.x.max <= 0) {
          myChart82.options.scales.x.min = 0;
          myChart82.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart82.options.scales.x.min = myChart82.options.scales.x.min + 7;
        myChart82.options.scales.x.max = myChart82.options.scales.x.max + 7;

        if (myChart82.options.scales.x.max >= myChart82.data.datasets[0].data.length) {
          myChart82.options.scales.x.min = myChart82.data.datasets[0].data.length - 7;
          myChart82.options.scales.x.max = myChart82.data.datasets[0].data.length;
        };
      }
      myChart82.update();
    })
  };
  function moveScroll83() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart83;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart83.options.scales.x.min = myChart83.options.scales.x.min - 7;
        myChart83.options.scales.x.max = myChart83.options.scales.x.max - 7;

        if (myChart83.options.scales.x.max <= 0) {
          myChart83.options.scales.x.min = 0;
          myChart83.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart83.options.scales.x.min = myChart83.options.scales.x.min + 7;
        myChart83.options.scales.x.max = myChart83.options.scales.x.max + 7;

        if (myChart83.options.scales.x.max >= myChart83.data.datasets[0].data.length) {
          myChart83.options.scales.x.min = myChart83.data.datasets[0].data.length - 7;
          myChart83.options.scales.x.max = myChart83.data.datasets[0].data.length;
        };
      }
      myChart83.update();
    })
  };

  function moveScroll2() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart9;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart9.options.scales.x.min = myChart9.options.scales.x.min - 7;
        myChart9.options.scales.x.max = myChart9.options.scales.x.max - 7;

        if (myChart9.options.scales.x.max <= 0) {
          myChart9.options.scales.x.min = 0;
          myChart9.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart9.options.scales.x.min = myChart9.options.scales.x.min + 7;
        myChart9.options.scales.x.max = myChart9.options.scales.x.max + 7;

        if (myChart9.options.scales.x.max >= myChart9.data.datasets[0].data.length) {
          myChart9.options.scales.x.min = myChart9.data.datasets[0].data.length - 7;
          myChart9.options.scales.x.max = myChart9.data.datasets[0].data.length;
        };
      }
      myChart9.update();
    })
  };

  function moveScroll3() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart10;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart10.options.scales.x.min = myChart10.options.scales.x.min - 7;
        myChart10.options.scales.x.max = myChart10.options.scales.x.max - 7;

        if (myChart10.options.scales.x.max <= 0) {
          myChart10.options.scales.x.min = 0;
          myChart10.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart10.options.scales.x.min = myChart10.options.scales.x.min + 7;
        myChart10.options.scales.x.max = myChart10.options.scales.x.max + 7;

        if (myChart10.options.scales.x.max >= myChart10.data.datasets[0].data.length) {
          myChart10.options.scales.x.min = myChart10.data.datasets[0].data.length - 7;
          myChart10.options.scales.x.max = myChart10.data.datasets[0].data.length;
        };
      }
      myChart10.update();
    })
  };

  function moveScroll7non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart7non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart7non.options.scales.x.min = myChart7non.options.scales.x.min - 7;
        myChart7non.options.scales.x.max = myChart7non.options.scales.x.max - 7;

        if (myChart7non.options.scales.x.max <= 0) {
          myChart7non.options.scales.x.min = 0;
          myChart7non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart7non.options.scales.x.min = myChart7non.options.scales.x.min + 7;
        myChart7non.options.scales.x.max = myChart7non.options.scales.x.max + 7;

        if (myChart7non.options.scales.x.max >= myChart7non.data.datasets[0].data.length) {
          myChart7non.options.scales.x.min = myChart7non.data.datasets[0].data.length - 7;
          myChart7non.options.scales.x.max = myChart7non.data.datasets[0].data.length;
        };
      }
      myChart7non.update();
    })
  };

  function moveScroll72non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart72non;

    canvas.addEventListener('click', (event) => {

      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart72non.options.scales.x.min = myChart72non.options.scales.x.min - 7;
        myChart72non.options.scales.x.max = myChart72non.options.scales.x.max - 7;

        if (myChart72non.options.scales.x.max <= 0) {
          myChart72non.options.scales.x.min = 0;
          myChart72non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart72non.options.scales.x.min = myChart72non.options.scales.x.min + 7;
        myChart72non.options.scales.x.max = myChart72non.options.scales.x.max + 7;

        if (myChart72non.options.scales.x.max >= myChart72non.data.datasets[0].data.length) {
          myChart72non.options.scales.x.min = myChart72non.data.datasets[0].data.length - 7;
          myChart72non.options.scales.x.max = myChart72non.data.datasets[0].data.length;
        };
      }
      myChart72non.update();

    })

  };

  function moveScroll1non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart8non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart8non.options.scales.x.min = myChart8non.options.scales.x.min - 7;
        myChart8non.options.scales.x.max = myChart8non.options.scales.x.max - 7;

        if (myChart8non.options.scales.x.max <= 0) {
          myChart8non.options.scales.x.min = 0;
          myChart8non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart8non.options.scales.x.min = myChart8non.options.scales.x.min + 7;
        myChart8non.options.scales.x.max = myChart8non.options.scales.x.max + 7;

        if (myChart8non.options.scales.x.max >= myChart8non.data.datasets[0].data.length) {
          myChart8non.options.scales.x.min = myChart8non.data.datasets[0].data.length - 7;
          myChart8non.options.scales.x.max = myChart8non.data.datasets[0].data.length;
        };
      }
      myChart8non.update();
    })
  };
  function moveScroll81non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart81non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart81non.options.scales.x.min = myChart81non.options.scales.x.min - 7;
        myChart81non.options.scales.x.max = myChart81non.options.scales.x.max - 7;

        if (myChart81non.options.scales.x.max <= 0) {
          myChart81non.options.scales.x.min = 0;
          myChart81non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart81non.options.scales.x.min = myChart81non.options.scales.x.min + 7;
        myChart81non.options.scales.x.max = myChart81non.options.scales.x.max + 7;

        if (myChart81non.options.scales.x.max >= myChart81non.data.datasets[0].data.length) {
          myChart81non.options.scales.x.min = myChart81non.data.datasets[0].data.length - 7;
          myChart81non.options.scales.x.max = myChart81non.data.datasets[0].data.length;
        };
      }
      myChart81non.update();
    })
  };

  function moveScroll82non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart82non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart82non.options.scales.x.min = myChart82non.options.scales.x.min - 7;
        myChart82non.options.scales.x.max = myChart82non.options.scales.x.max - 7;

        if (myChart82non.options.scales.x.max <= 0) {
          myChart82non.options.scales.x.min = 0;
          myChart82non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart82non.options.scales.x.min = myChart82non.options.scales.x.min + 7;
        myChart82non.options.scales.x.max = myChart82non.options.scales.x.max + 7;

        if (myChart82non.options.scales.x.max >= myChart82non.data.datasets[0].data.length) {
          myChart82non.options.scales.x.min = myChart82non.data.datasets[0].data.length - 7;
          myChart82non.options.scales.x.max = myChart82non.data.datasets[0].data.length;
        };
      }
      myChart82non.update();
    })
  };

  function moveScroll83non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart83non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart83non.options.scales.x.min = myChart83non.options.scales.x.min - 7;
        myChart83non.options.scales.x.max = myChart83non.options.scales.x.max - 7;

        if (myChart83non.options.scales.x.max <= 0) {
          myChart83non.options.scales.x.min = 0;
          myChart83non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart83non.options.scales.x.min = myChart83non.options.scales.x.min + 7;
        myChart83non.options.scales.x.max = myChart83non.options.scales.x.max + 7;

        if (myChart83non.options.scales.x.max >= myChart83non.data.datasets[0].data.length) {
          myChart83non.options.scales.x.min = myChart83non.data.datasets[0].data.length - 7;
          myChart83non.options.scales.x.max = myChart83non.data.datasets[0].data.length;
        };
      }
      myChart83non.update();
    })
  };

  function moveScroll9non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart9non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart9non.options.scales.x.min = myChart9non.options.scales.x.min - 10;
        myChart9non.options.scales.x.max = myChart9non.options.scales.x.max - 10;

        if (myChart9non.options.scales.x.max <= 0) {
          myChart9non.options.scales.x.min = 0;
          myChart9non.options.scales.x.max = 9;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart9non.options.scales.x.min = myChart9non.options.scales.x.min + 10;
        myChart9non.options.scales.x.max = myChart9non.options.scales.x.max + 10;

        if (myChart9non.options.scales.x.max >= myChart9non.data.datasets[0].data.length) {
          myChart9non.options.scales.x.min = myChart9non.data.datasets[0].data.length - 10;
          myChart9non.options.scales.x.max = myChart9non.data.datasets[0].data.length;
        };
      }
      myChart9non.update();
    })
  };

  function moveScroll10non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart10non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart10non.options.scales.x.min = myChart10non.options.scales.x.min - 7;
        myChart10non.options.scales.x.max = myChart10non.options.scales.x.max - 7;

        if (myChart10non.options.scales.x.max <= 0) {
          myChart10non.options.scales.x.min = 0;
          myChart10non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart10non.options.scales.x.min = myChart10non.options.scales.x.min + 7;
        myChart10non.options.scales.x.max = myChart10non.options.scales.x.max + 7;

        if (myChart10non.options.scales.x.max >= myChart10non.data.datasets[0].data.length) {
          myChart10non.options.scales.x.min = myChart10non.data.datasets[0].data.length - 7;
          myChart10non.options.scales.x.max = myChart10non.data.datasets[0].data.length;
        };
      }
      myChart10non.update();
    })
  };

  function moveScroll11non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart11non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart11non.options.scales.x.min = myChart11non.options.scales.x.min - 7;
        myChart11non.options.scales.x.max = myChart11non.options.scales.x.max - 7;

        if (myChart11non.options.scales.x.max <= 0) {
          myChart11non.options.scales.x.min = 0;
          myChart11non.options.scales.x.max = 6;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart11non.options.scales.x.min = myChart11non.options.scales.x.min + 7;
        myChart11non.options.scales.x.max = myChart11non.options.scales.x.max + 7;

        if (myChart11non.options.scales.x.max >= myChart11non.data.datasets[0].data.length) {
          myChart11non.options.scales.x.min = myChart11non.data.datasets[0].data.length - 7;
          myChart11non.options.scales.x.max = myChart11non.data.datasets[0].data.length;
        };
      }
      myChart11non.update();
    })
  };

  function moveScroll12non() {
    const { ctx, canvas, chartArea: { left, right, top, bottom, width, height } } = myChart12non;

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      console.log('x', x)
      console.log('y', y)

      if (x >= left - 15 && x <= left + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart12non.options.scales.x.min = myChart12non.options.scales.x.min - 4;
        myChart12non.options.scales.x.max = myChart12non.options.scales.x.max - 4;

        if (myChart12non.options.scales.x.max <= 0) {
          myChart12non.options.scales.x.min = 0;
          myChart12non.options.scales.x.max = 3;
        };
      }

      if (x >= right - 15 && x <= right + 15 && y >= height / 2 + top - 15 && y <= height / 2 + top + 15) {

        myChart12non.options.scales.x.min = myChart12non.options.scales.x.min + 4;
        myChart12non.options.scales.x.max = myChart12non.options.scales.x.max + 4;

        if (myChart12non.options.scales.x.max >= myChart12non.data.datasets[0].data.length) {
          myChart12non.options.scales.x.min = myChart12non.data.datasets[0].data.length - 4;
          myChart12non.options.scales.x.max = myChart12non.data.datasets[0].data.length;
        };
      }
      myChart12non.update();
    })
  };

  myChart7non.ctx.onclick = moveScroll7non();
  myChart72non.ctx.onclick = moveScroll72non();
  myChart8non.ctx.onclick = moveScroll1non();
  myChart81non.ctx.onclick = moveScroll81non();
  myChart82non.ctx.onclick = moveScroll82non();
  myChart83non.ctx.onclick = moveScroll83non();
  myChart9non.ctx.onclick = moveScroll9non();
  myChart10non.ctx.onclick = moveScroll10non();
  myChart11non.ctx.onclick = moveScroll11non();
  myChart12non.ctx.onclick = moveScroll12non();

  myChart7.ctx.onclick = moveScroll();
  myChart72.ctx.onclick = moveScroll72();

  myChart8.ctx.onclick = moveScroll1();
  myChart81.ctx.onclick = moveScroll81();
  myChart82.ctx.onclick = moveScroll82();
  myChart83.ctx.onclick = moveScroll83();

  myChart9.ctx.onclick = moveScroll2();

  myChart10.ctx.onclick = moveScroll3();




  function readmore() {
    var dots = document.getElementById("dots");
    var moreText = document.getElementById("more");
    var btnText = document.getElementById("myBtn");

    if (dots.style.display === "none") {
      dots.style.display = "inline";
      btnText.innerHTML = "Read more";
      moreText.style.display = "none";
    } else {
      dots.style.display = "none";
      btnText.innerHTML = "Read less";
      moreText.style.display = "inline";
    }
  }


  //Apeksha DO letters scripts
  $('#action_by').select2();
  $('#copy_to').select2()
  $(document).ready(function () {
    $('#submit').click(function () {
      var selected = $("#action_by :selected").map((_, e) => e.value).get();
      document.getElementById('action_by_test').value = selected;

      selected = $("#copy_to :selected").map((_, e) => e.value).get();
      document.getElementById('copy_to_test').value = selected;
    });
  });

  $(document).ready(function () {

    $('#modal_table').DataTable();
    //  $('#replyStatus_table').DataTable();
    $('#do_letters_modal_table').DataTable();

  });

  //  var table = $('#replyStatus_table').DataTable({
  //          "language": {
  //            "search": "Search:"
  //          }
  //  });

  var table11 = $('#modal_table').DataTable({
    "language": {
      "search": "Search:"
    }
  });

  var table2 = $('#do_letters_modal_table').DataTable({
    "language": {
      "search": "Search:"
    }
  });


  function open_modal(id) {
    console.log(id);
    data = {
      'id': id
    }
    $.ajax
      ({
        url: "{% url 'do_letter_modal_view' %}",
        method: "GET",
        dataType: "JSON",
        async: false,
        data: data,
        success: function (response) {
          table2.destroy()
          $('#do_letters_modal_table tbody').empty()

          letters = response.letters;
          status23 = response.status;
          table_data = '';

          for (var i = 0; i < letters.length; i++) {
            table_data += '<tr><td>' + (i + 1) + '</td>';
            table_data += '<td>' + letters[i].do_letter_date + '</td>';
            table_data += '<td><a href="" onclick="open_do(' + id + '); return false;">' + letters[i].do_letter_no + '</a></td>';
            table_data += '<td>' + letters[i].desig_id + '</td>';
            table_data += '<td>' + letters[i].status_flag + '</td></tr>';

          }
          $('#do_letters_modal_table tbody').empty()
          $('#do_letters_modal_table tbody').append(table_data)
          table2 = $('#do_letters_modal_table').DataTable({
            "language": {
              "search": "Search:"
            }
          });


        }
      });

  }

  function open_do(id) {
    $('#iframetest111').hide();
    console.log(id);
    data = {
      'id': id
    }
    $.ajax
      ({
        url: "{% url 'view_ajax' %}",
        method: "GET",
        dataType: "JSON",
        async: false,
        data: data,
        success: function (response) {

          // document.getElementById("view2").hidden=true;
          // document.getElementById("view1").hidden=false;

          letter_no = response.do_letter_no;
          $('#letter_no').val(letter_no);
          letter_date = response.do_letter_date;
          $('#letter_date').val(letter_date);
          subject = response.subject;
          $('#subject').val(subject);
          $('#copyto').val(response.copyto);
          let str = 'Letter No.-'+String(letter_no) + '       Date:- '+String(letter_date);
         
          document.getElementById('setdodata').innerHTML=str;
          
          if (response.do_text == null) {
            file = "/media/" + response.do_file;
          }
          else {
            file = "/do_pdf_create/" + response.id;
          }
          $('#iframetest').attr('src', file);
          // file = "/media/" + response.do_file;
          // $('#preview').attr('src', file);
          status23 = response.status;
          table11.destroy();
          //   $('#modal_table tbody').empty()
          table_data = '';
          for (var i = 0; i < status23.length; i++) {
            
            table_data += '<tr>';
            if (status23[i]['status_flag'] == 'Pending') {
              table_data += '<td style="color: red;">' + status23[i]['desig_id__designation'] + '</td>';
              table_data += '<td>-</td>';
              table_data += '<td > No</td>';
                table_data += '<td>-</td></tr>'
               table_data += '</tr>';
            }
            else {
              table_data += '<td style="color: green;">' + status23[i]['desig_id__designation'] + '</td>';
              str1=String(status23[i]['date_of_reply'])
              srt2=String(str1.substring(8,10))+'-'+String(str1.substring(5,7)) + '-' + String(str1.substring(0,4));
              table_data += '<td>' + srt2 + '</td>';
              table_data += '<td>Yes </td>';
              reply_file = "/media/" +status23[i]['reply_path'];
              if (reply_file != '/media/')
                table_data += `<td style="text-align: center;"><button type="submit" name="submit" class="b1" value="${reply_file}" onclick="funopenreply11(this.value)"><i class="fa fa-paperclip" style="font-size:20px;color:rgb(64, 112, 243)"></i></button></td></tr>`;
              else
                table_data += '<td>-</td></tr>'
              table_data += '</tr>';
            }

          }
          // table_data = '';
          // table_data += '<tr><td>' + response.reply_date + '</td>';
          // table_data += '<td>' + response.remarks + '</td>';
          // table_data += '<td>' + response.attachment + '</td></tr>';
          $('#modal_table tbody').empty()
          $('#modal_table tbody').append(table_data)
          table11 = $('#modal_table').DataTable({
            "language": {
              "search": "Search:"
            }
          });


        }
      });
  }

  function upload_do() {

    data = {
      csrfmiddlewaretoken: '{{csrf_token}}'
    };
    $.ajax
      ({
        url: "{% url 'upload-do' %}",
        method: "POST",
        dataType: "JSON",
        async: false,
        data: data,
        success: function (response) {
          let row = '';
          row += '<option selected disabled hidden value=""> Select To Mark</option>';
          for (let i = 0; i < response.length; i++) {
            row += '<option value=">' + response[i].designation + '">' + response[i].designation + '</option>';
            console.log(response[i]);
          }

          $('#desig').append(row);
        }
      });

  }


  var table11;
  function reply_status(id) {
    console.log(id)
    $('#iframetest11').hide();
            $('#aiframetest11').hide();
    data = {
      'id': id
    };
    $.ajax
      ({
        url: "{% url 'view_ajax2'  %}",
        method: "GET",
        dataType: "JSON",
        async: false,
        data: data,
        success: function (response) {

          if (table11 instanceof $.fn.dataTable.Api) {
            table11.destroy();
          }
          console.log(response.letters[0].do_letter_no)
          data = '<b>D.O. Letter No.</b>-' + response.letters[0].do_letter_no + '        <b>Date</b>- ' + response.letters[0].do_letter_date;
          document.getElementById('dodetails').innerHTML = data;
          file = "/media/" + response.do_file;


          if (response.do_text == null) {
            $('#iframetest1').attr('src', file);
            $('#aiframetest1').attr('href', file);
          }
          else {
            file = "/do_pdf_create/" + response.id;

            $('#iframetest1').attr('src', file);
            $('#aiframetest1').attr('href', file);
          }
          var row = '';
          $('#replyStatus_table tbody').empty();
          for (i = 0; i < (response.letters[0].marked_to).length; i++) {
            if (response.letters[0].marked_to[i].abc == true) {
              row += '<tr><td style="color: green;"><b>' + response.letters[0].marked_to[i].xyz + '</b></td>';


              row += '<td>Yes</td>';

              reply_file = "/media/" + response.letters[0].marked_to[i].reply_path;
              if (reply_file != '/media/')
                row += `<td style="text-align: center;"><button type="submit" name="submit" class="b1" value="${reply_file}" onclick="funopenreply(this.value)"><i class="fa fa-paperclip" style="font-size:20px;color:rgb(64, 112, 243)"></i></button></td></tr>`;
              else
                row += '<td>-</td></tr>'
            }
          }
          $('#replyStatus_table tbody').empty()
          $('#replyStatus_table tbody').append(row)
          table11 = $('#replyStatus_table').DataTable({
            "language": {
              "search": "Search:"
            }
          });

        }
      });
  }
  function funopenreply(val) {
    if (val != '/media/') {
      $('#iframetest11').attr('src', val);
      $('#aiframetest11').attr('href', val);
      $('#iframetest11').show();
      $('#aiframetest11').show();
    }
  }

  function funopenreply11(val) {
    if (val != '/media/') {
      $('#iframetest111').attr('src', val);
      $('#iframetest111').show();
    }
  }

  Filevalidation = () => {
    const fi = document.getElementById('do_file');

    // Check if any file is selected.
    if (fi.files.length > 0) {
      for (const i = 0; i <= fi.files.length - 1; i++) {

        const fsize = fi.files.item(i).size;
        const file = Math.round((fsize / 1024));
        // The size of the file.
        if (file >= 200) {
          alert("File too Big, please select a file less than 200KB");
        }
        else {
          // document.getElementById('size').innerHTML = '<b>'
          // + file + '</b> KB';
          document.getElementById('submit').disabled = false;
        }
      }
    }
  }



 //Apeksha DO letters scripts ends

</script>


<script>

  function funclicksummarydate() {
    document.getElementById('summarydate').click();
  }
</script>

<!-- GUNJAN-MOM-SCRIPT -->
<script>
  function mom_modal_view(e) {
    file = "/mom_ReportPdf/" + e;
    $('#iframepreview').attr('src', file);
  }

  function momStatusModal_view(e)
  {
      var table = $('#momRemarksTable').DataTable();
      table.destroy();
      $('#momRemarksTable').hide();
     data=
      {
        'insp_no':e
      }
      $.ajax
      ({
          url: "{% url 'mom_dash_ajax' %}",
          method: "GET",
          dataType: "JSON",
          async: false,
          data: data,
          success: function (response) 
          {
              insp_details=response.insp_details;
              // alert(insp_details[0].note_no+' 1234 '+insp_details[0].mdate+' 1234 '+insp_details[0].title)
              document.getElementById('momStatusModalLabel').innerHTML = 'MOM Note No: '+insp_details[0].note_no+'   Dated: '+insp_details[0].mdate;
              $('#mom_title').val(insp_details[0].title);
              reply_details=response.item_details;
              console.log(reply_details)
              let row = "";
              let head = 
                  `<thead style="white-space: nowrap; text-align: left; background-color: #343a40; color:white">
                      <tr align="left">
                          <th width=10%>Item No.</th>
                          <th width=20%>Dealt By</th>
                          <th width=15%>Reply Date</th>
                          <th width=50%>Remarks</th>
                          <th width=5%>Attachment</th> 
                      </tr>
                  </thead>`;
              for (let i = 0; i < reply_details.length; i++) 
              {
                  row += "<tr>";
                  row += 
                      `<td width=10%>${reply_details[i]['item_no']}</td>`;
                      if(reply_details[i]['text']!=null && reply_details[i]['file']!=null)
                      {
                          row+=`
                          <td style="color:green" width=20%>${reply_details[i]['marked_to']}</td>
                          <td width=15%>${reply_details[i]['reply_on']}</td>
                          <td width=50%>${reply_details[i]['text']}</td>
                          <td width=5%><a href="${reply_details[i]['file']}" target="_blank"><i class="fa fa-paperclip" aria-hidden="true"></i></a></td>`;
                      }
                      else if(reply_details[i]['text']!=null && !reply_details[i]['file'])
                      {
                          row+=`
                          <td style="color:green" width=20%>${reply_details[i]['marked_to']}</td>
                          <td width=15%>${reply_details[i]['reply_on']}</td>
                          <td width=50%>${reply_details[i]['text']}</td>
                          <td width=5%>-</td>`;
                      }
                      else if(reply_details[i]['text']==null && reply_details[i]['file']!=null)
                      {
                          row+=`
                          <td style="color:green" width=20%>${reply_details[i]['marked_to']}</td>
                          <td width=15%>${reply_details[i]['reply_on']}</td>
                          <td width=50%>-</td>
                          <td width=5%><a href="${reply_details[i]['file']}" target="_blank"><i class="fa fa-paperclip" aria-hidden="true"></i></a></td>`;;
                      }
                      else
                      {
                          row+=`
                          <td style="color:red" width=20%>${reply_details[i]['marked_to']}</td>
                          <td width=15%>${reply_details[i]['reply_on']}</td>
                          <td width=50%>-</td>
                          <td width=5%>-</td>`;
                      }
                      row += "</tr>";
              } 
              $('#momRemarksTable thead').remove();
              $('#momRemarksTable tr').remove();
              $('#momRemarksTable').append(head);
              $('#momRemarksTable tbody').append(row);
              $('#momRemarksTable').show();
              $('#momRemarksTable').DataTable();  
          }
      });
  }

</script>

<script>
  $(function () {

    $('input[name="date"]').daterangepicker({
      autoUpdateInput: false,
      singleDatePicker: true,
      autoApply: true,
      maxDate: new Date(),
      "opens": "left",
      locale: {
        cancelLabel: 'Clear'
      }
    });

    $('input[name="date"]').on('apply.daterangepicker', function (ev, picker) {
      $(this).val(picker.startDate.format('DD-MM-YY'));


    });


  });
</script>



{% endblock %}