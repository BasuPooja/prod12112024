{% extends 'base.html' %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- CSS only -->
<link rel="stylesheet" type="text/css" href="{% static '/accordian/bootstrap.min.css' %}" />
<script src="{% static '/accordian/bootstrap.bundle.min.js' %}"></script>
    


<script src="{% static '/js/jquery-3.4.1.min.js' %}"></script>
<script src="{% static '/js/popper.min.js' %}"></script>
<script src="{% static '/js/Chart.min.js' %}"></script>
<script src="{% static '/js/jquery-3.3.1.slim.min.js' %}"></script>
<script src="{% static '/js/bootstrap.min.js' %}"></script>

<script src="{% static '/js/jquery-ui.js' %}"></script>
<script src="{% static '/js/jquery-1.12.4.js' %}"></script>

<script src="{% static '/js/select2.min.js' %}"></script>
<script src="{% static '/js/moment.min.js' %}"></script>


<script src="{% static '/js/jquery-3.3.1.js' %}"></script>
<script src="{% static '/js/sweetalert.min.js' %}"></script>
<script src="{% static '/js/jquery.min.js' %}"></script>
<script src="{% static '/js/bootstrap.min1.js' %}"></script>
<script src="{% static '/js/jquery.min1.js' %}"></script>
<script src="{% static '/js/jquery-ui.min.js' %}"></script>
<script src="{% static '/js/jspdf.min.js' %}"></script>

<script src="{% static '/DataTables/datatables.min.js' %}"></script>
<script src="{% static '/js/dataTables.bootstrap4.min.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static '/DataTables/datatables.min.css' %}" />


<link rel="stylesheet" type="text/css" href="{% static '/css/bootstrap.min.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static '/css/jquery-ui.css' %}" />

<script src="{% static '/js/jquery.timepicker.min.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static '/css/jquery.timepicker.min.css' %}" />
<script type="text/javascript" src="{% static '/daterangepicker-master/moment.min.js'%}"></script>
<script type="text/javascript" src="{% static '/daterangepicker-master/daterangepicker.js'%}"></script>
<link rel="stylesheet" type="  text/css" href="{%static '/daterangepicker-master/daterangepicker.css'%}" />

<script type="text/javascript" src="{% static '/js/jquery.mask.js'%}"></script>


<link rel="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
<script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<script src="{% static '/js/select2.min.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static '/css/select2.min.css' %}"  />


        
<title>Einspection | Inspection Edit Form</title>

</head>

<body >
    <form method="POST" enctype="multipart/form-data">
        {%csrf_token%} 
        <input type="text" id="inspectionId" name="inspectionId" hidden>
        <input type="submit" id="edit" Value="Edit" name="submit" hidden>
        <h3 style="text-align: center;">Einspection Edit Form</h3>
        <div class="container-fluid">
            <table id="inspectionDetails" class="table table-striped table-bordered center table-input" >
                <thead style="background-color: #343a40;white-space: nowrap; color:white;text-align: left;">
                    <tr>
                      <th>S.No.</th>
                      <th>Insp. Date</th>
                      <th>Insp. Type</th>
                      <th>Insp. Note</th>
                      <th>Insp. Title</th>
                      <th>Rly./Org.</th>
                      <th>Div./Unit</th>
                      <th>Edit</th>
                      <th>Pdf View</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for i in data %}
                        <tr>
                            <td>{{forloop.counter}}</td>
                            <td>{{i.inspected_on | date:'d-m-Y' }}</td>
                            <td>{{i.instypeid.name}}</td>
                            <td>{{i.inspection_note_no}}</td>
                            <td>{{i.inspection_title}}</td>
                            <td>{{i.rly_id_id.location_code}}</td>
                            <td>{{i.div_id_id.location_code}}</td>
                            <td>
                                <button type="button" id="{{i.instypeid_id}}" name="{{i.einspno}}" onclick="fun_setdata(this.id,this.name);" style="border: white;" >
                                    <i class="fa fa-edit" style="font-size:24px;color:rgb(64, 112, 243)"></i>
                                </button>
                            </td>
                            <th>
                                <button type="button"  name="{{i.einspno}}" onclick="pdfDet(this.name);" style="border: white;" >
                                    <i class="fa fa-file" style="font-size:24px;color:rgb(245, 57, 32)"></i>
                                </button>
                            </th>
                        </tr>
                    {% endfor %}
                  </tbody>
                </table>
        </div>
        </form>
</body>

<script>
    $('#inspectionDetails').dataTable();
    function fun_setdata(instypeid,einspno)
    {
        window.location.href = "{% url 'showMenu' %}" + "?id=" + instypeid+"&inspectionId="+einspno;
    }

    function pdfDet(id)
  {
    window.open("{% url 'pdfDetails' %}"+"?id="+id);
  }
</script>



</html>

{% endblock content %}